<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>System Integration â€“ Beebot Documentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-c1fac2584b48ed01fb6e278e36375074.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="assets/styles.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ðŸ¤– Beebot</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../getting-started/index.html"> 
<span class="menu-text">Getting Started</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-components" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Components</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-components">    
        <li>
    <a class="dropdown-item" href="../../components/slam/index.html">
 <span class="dropdown-text">SLAM &amp; Localization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../components/motion/index.html">
 <span class="dropdown-text">Motion Planning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../components/control/index.html">
 <span class="dropdown-text">Control Systems</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../components/system/index.html">
 <span class="dropdown-text">System Integration</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-api-reference" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">API Reference</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-api-reference">    
        <li>
    <a class="dropdown-item" href="../../api/nodes.html">
 <span class="dropdown-text">ROS Nodes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../api/topics.html">
 <span class="dropdown-text">Topics &amp; Messages</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../api/parameters.qmd">
 <span class="dropdown-text">Parameters</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../api/services.qmd">
 <span class="dropdown-text">Services</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials/index.qmd"> 
<span class="menu-text">Tutorials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../hardware/index.qmd"> 
<span class="menu-text">Hardware</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/phatcvo/Beebot"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../components/system/index.html">System Integration</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../components/slam/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SLAM &amp; Localization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../components/slam/advanced-localization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Localization System</span></a>
  </div>
</li>
        <li class="sidebar-item">
 <span class="menu-text">components/slam/mapping.qmd</span>
  </li>
        <li class="sidebar-item">
 <span class="menu-text">components/slam/sensor-fusion.qmd</span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../components/motion/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Motion Planning &amp; Control</span></a>
  </div>
</li>
        <li class="sidebar-item">
 <span class="menu-text">components/motion/global-planning.qmd</span>
  </li>
        <li class="sidebar-item">
 <span class="menu-text">components/motion/local-planning.qmd</span>
  </li>
        <li class="sidebar-item">
 <span class="menu-text">components/motion/waypoint-management.qmd</span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../components/control/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Control &amp; Hardware Interface</span></a>
  </div>
</li>
        <li class="sidebar-item">
 <span class="menu-text">components/control/remote-control.qmd</span>
  </li>
        <li class="sidebar-item">
 <span class="menu-text">components/control/arduino-interface.qmd</span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../components/system/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">System Integration</span></a>
  </div>
</li>
        <li class="sidebar-item">
 <span class="menu-text">components/system/launch-files.qmd</span>
  </li>
        <li class="sidebar-item">
 <span class="menu-text">components/system/visualization.qmd</span>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#system-integration" id="toc-system-integration" class="nav-link active" data-scroll-target="#system-integration">System Integration</a>
  <ul class="collapse">
  <li><a href="#system-architecture" id="toc-system-architecture" class="nav-link" data-scroll-target="#system-architecture">System Architecture</a>
  <ul class="collapse">
  <li><a href="#complete-system-overview" id="toc-complete-system-overview" class="nav-link" data-scroll-target="#complete-system-overview">Complete System Overview</a></li>
  <li><a href="#software-stack-layers" id="toc-software-stack-layers" class="nav-link" data-scroll-target="#software-stack-layers">Software Stack Layers</a></li>
  </ul></li>
  <li><a href="#launch-system-architecture" id="toc-launch-system-architecture" class="nav-link" data-scroll-target="#launch-system-architecture">Launch System Architecture</a>
  <ul class="collapse">
  <li><a href="#hierarchical-launch-structure" id="toc-hierarchical-launch-structure" class="nav-link" data-scroll-target="#hierarchical-launch-structure">Hierarchical Launch Structure</a></li>
  <li><a href="#master-launch-file" id="toc-master-launch-file" class="nav-link" data-scroll-target="#master-launch-file">Master Launch File</a></li>
  </ul></li>
  <li><a href="#configuration-management" id="toc-configuration-management" class="nav-link" data-scroll-target="#configuration-management">Configuration Management</a>
  <ul class="collapse">
  <li><a href="#parameter-hierarchy" id="toc-parameter-hierarchy" class="nav-link" data-scroll-target="#parameter-hierarchy">Parameter Hierarchy</a></li>
  <li><a href="#dynamic-reconfiguration" id="toc-dynamic-reconfiguration" class="nav-link" data-scroll-target="#dynamic-reconfiguration">Dynamic Reconfiguration</a></li>
  </ul></li>
  <li><a href="#system-monitoring" id="toc-system-monitoring" class="nav-link" data-scroll-target="#system-monitoring">System Monitoring</a>
  <ul class="collapse">
  <li><a href="#health-monitoring-system" id="toc-health-monitoring-system" class="nav-link" data-scroll-target="#health-monitoring-system">Health Monitoring System</a></li>
  <li><a href="#diagnostic-framework" id="toc-diagnostic-framework" class="nav-link" data-scroll-target="#diagnostic-framework">Diagnostic Framework</a></li>
  <li><a href="#performance-monitoring" id="toc-performance-monitoring" class="nav-link" data-scroll-target="#performance-monitoring">Performance Monitoring</a></li>
  </ul></li>
  <li><a href="#data-management" id="toc-data-management" class="nav-link" data-scroll-target="#data-management">Data Management</a>
  <ul class="collapse">
  <li><a href="#logging-and-data-collection" id="toc-logging-and-data-collection" class="nav-link" data-scroll-target="#logging-and-data-collection">Logging and Data Collection</a></li>
  <li><a href="#data-analysis-tools" id="toc-data-analysis-tools" class="nav-link" data-scroll-target="#data-analysis-tools">Data Analysis Tools</a></li>
  </ul></li>
  <li><a href="#deployment-patterns" id="toc-deployment-patterns" class="nav-link" data-scroll-target="#deployment-patterns">Deployment Patterns</a>
  <ul class="collapse">
  <li><a href="#development-vs-production" id="toc-development-vs-production" class="nav-link" data-scroll-target="#development-vs-production">Development vs Production</a></li>
  <li><a href="#containerized-deployment" id="toc-containerized-deployment" class="nav-link" data-scroll-target="#containerized-deployment">Containerized Deployment</a></li>
  </ul></li>
  <li><a href="#troubleshooting-framework" id="toc-troubleshooting-framework" class="nav-link" data-scroll-target="#troubleshooting-framework">Troubleshooting Framework</a>
  <ul class="collapse">
  <li><a href="#automated-diagnostics" id="toc-automated-diagnostics" class="nav-link" data-scroll-target="#automated-diagnostics">Automated Diagnostics</a></li>
  </ul></li>
  <li><a href="#next-steps" id="toc-next-steps" class="nav-link" data-scroll-target="#next-steps">Next Steps</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">System Integration</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
<p class="subtitle lead">Complete system architecture and integration patterns</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="system-integration" class="level1">
<h1>System Integration</h1>
<p>The System Integration layer orchestrates all Beebot subsystems into a cohesive autonomous mobile robot platform. This includes launch file management, parameter coordination, monitoring systems, and the overall software architecture that enables seamless operation across SLAM, motion planning, control, and user interfaces.</p>
<section id="system-architecture" class="level2">
<h2 class="anchored" data-anchor-id="system-architecture">System Architecture</h2>
<section id="complete-system-overview" class="level3">
<h3 class="anchored" data-anchor-id="complete-system-overview">Complete System Overview</h3>
<pre class="mermaid"><code>graph TB
    subgraph "User Interfaces"
        RVIZ[RViz Visualization]
        WEB[Web Dashboard]
        MOBILE[Mobile App]
        VOICE[Voice Control]
    end
    
    subgraph "High-Level Planning"
        MISSION[Mission Planner]
        WM[Waypoint Manager]
        BEHAVIOR[Behavior Tree]
    end
    
    subgraph "Navigation Stack"
        MOVEBASE[move_base&lt;br/&gt;Navigation Server]
        GP[Global Planner&lt;br/&gt;A*/RRT*]
        LP[Local Planner&lt;br/&gt;DWA]
        COSTMAP[Costmap 2D&lt;br/&gt;Global/Local]
    end
    
    subgraph "Localization &amp; Mapping"  
        ALS[Advanced Localization&lt;br/&gt;ALS/EMCL]
        MAPPING[SLAM/Mapping&lt;br/&gt;Ray Casting]
        TF[Transform Tree&lt;br/&gt;tf2]
    end
    
    subgraph "Sensor Processing"
        LIDAR[LiDAR Processing&lt;br/&gt;scan_to_pcl]
        IMU[IMU Processing&lt;br/&gt;sensor_fusion]
        VISION[Computer Vision&lt;br/&gt;Image Processing]
    end
    
    subgraph "Hardware Interface"
        ARDUINO[Arduino Serial&lt;br/&gt;Motor Control]
        REMOTE[Remote Control&lt;br/&gt;Xbox/MQTT]
        SENSORS[Sensor Interface&lt;br/&gt;Hardware I/O]
    end
    
    subgraph "System Services"
        MONITOR[System Monitor&lt;br/&gt;Health Check]
        LOG[Data Logging&lt;br/&gt;Bag Files]
        PARAM[Parameter Server&lt;br/&gt;Dynamic Config]
        DIAG[Diagnostics&lt;br/&gt;Error Handling]
    end
    
    % User Interface Connections
    RVIZ --&gt; MOVEBASE
    WEB --&gt; MISSION
    MOBILE --&gt; REMOTE
    VOICE --&gt; BEHAVIOR
    
    % Planning Layer Connections
    MISSION --&gt; WM
    WM --&gt; MOVEBASE
    BEHAVIOR --&gt; MOVEBASE
    
    % Navigation Stack Connections
    MOVEBASE --&gt; GP
    MOVEBASE --&gt; LP
    MOVEBASE --&gt; COSTMAP
    GP --&gt; LP
    
    % Localization Connections
    ALS --&gt; MOVEBASE
    ALS --&gt; TF
    MAPPING --&gt; COSTMAP
    TF --&gt; MOVEBASE
    
    % Sensor Connections
    LIDAR --&gt; ALS
    LIDAR --&gt; MAPPING
    IMU --&gt; ALS
    VISION --&gt; COSTMAP
    
    % Hardware Connections
    ARDUINO --&gt; Odometry[Odometry]
    REMOTE --&gt; MOVEBASE
    SENSORS --&gt; COSTMAP
    Odometry --&gt; ALS
    
    % System Services
    MONITOR --&gt; All[All Nodes]
    LOG --&gt; All
    PARAM --&gt; All
    DIAG --&gt; All
    
    style MOVEBASE fill:#e1f5fe
    style ALS fill:#f3e5f5
    style ARDUINO fill:#fff3e0
    style MONITOR fill:#f1f8e9</code></pre>
</section>
<section id="software-stack-layers" class="level3">
<h3 class="anchored" data-anchor-id="software-stack-layers">Software Stack Layers</h3>
<p>The system is organized in distinct layers with well-defined interfaces:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 26%">
<col style="width: 33%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Layer</th>
<th>Components</th>
<th>Responsibility</th>
<th>Interface</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Application</strong></td>
<td>Mission Planning, UI</td>
<td>High-level goals and user interaction</td>
<td>Action servers, web APIs</td>
</tr>
<tr class="even">
<td><strong>Autonomous Navigation</strong></td>
<td>move_base, planners</td>
<td>Path planning and execution</td>
<td>ROS actions, topics</td>
</tr>
<tr class="odd">
<td><strong>Localization</strong></td>
<td>ALS, EMCL, mapping</td>
<td>Position estimation</td>
<td>TF transforms, topics</td>
</tr>
<tr class="even">
<td><strong>Sensor Processing</strong></td>
<td>Drivers, filters</td>
<td>Raw data to meaningful info</td>
<td>Sensor messages</td>
</tr>
<tr class="odd">
<td><strong>Hardware Abstraction</strong></td>
<td>Arduino interface</td>
<td>Hardware control</td>
<td>Custom protocols</td>
</tr>
<tr class="even">
<td><strong>System Services</strong></td>
<td>Monitoring, logging</td>
<td>System health and data</td>
<td>Diagnostics, parameters</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="launch-system-architecture" class="level2">
<h2 class="anchored" data-anchor-id="launch-system-architecture">Launch System Architecture</h2>
<section id="hierarchical-launch-structure" class="level3">
<h3 class="anchored" data-anchor-id="hierarchical-launch-structure">Hierarchical Launch Structure</h3>
<p>The launch system is organized hierarchically for modularity and maintainability:</p>
<pre><code>system/launch/
â”œâ”€â”€ beebot_complete.launch          # Complete system launch
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ slam_stack.launch          # SLAM and localization
â”‚   â”œâ”€â”€ motion_stack.launch        # Navigation and planning  
â”‚   â”œâ”€â”€ control_stack.launch       # Hardware control
â”‚   â”œâ”€â”€ sensors_stack.launch       # Sensor drivers
â”‚   â””â”€â”€ ui_stack.launch            # User interfaces
â”œâ”€â”€ configs/
â”‚   â”œâ”€â”€ robot_params.yaml          # Robot-specific parameters
â”‚   â”œâ”€â”€ sensor_configs.yaml        # Sensor configurations
â”‚   â”œâ”€â”€ navigation_params.yaml     # Navigation parameters
â”‚   â””â”€â”€ system_configs.yaml        # System-wide settings
â””â”€â”€ environments/
    â”œâ”€â”€ indoor.launch              # Indoor environment
    â”œâ”€â”€ outdoor.launch             # Outdoor environment
    â””â”€â”€ simulation.launch          # Simulation environment</code></pre>
</section>
<section id="master-launch-file" class="level3">
<h3 class="anchored" data-anchor-id="master-launch-file">Master Launch File</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">"1.0"</span><span class="fu">?&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">launch</span>&gt;</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- System Configuration --&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"robot_name"</span><span class="ot"> default=</span><span class="st">"beebot"</span>/&gt;</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"environment"</span><span class="ot"> default=</span><span class="st">"indoor"</span>/&gt;</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"simulation"</span><span class="ot"> default=</span><span class="st">"false"</span>/&gt;</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"debug"</span><span class="ot"> default=</span><span class="st">"false"</span>/&gt;</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Load Robot Parameters --&gt;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">rosparam</span><span class="ot"> file=</span><span class="st">"$(find system)/configs/robot_params.yaml"</span><span class="ot"> command=</span><span class="st">"load"</span>/&gt;</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Transform Tree Configuration --&gt;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">node</span><span class="ot"> name=</span><span class="st">"robot_state_publisher"</span><span class="ot"> pkg=</span><span class="st">"robot_state_publisher"</span><span class="ot"> type=</span><span class="st">"robot_state_publisher"</span>&gt;</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">param</span><span class="ot"> name=</span><span class="st">"publish_frequency"</span><span class="ot"> value=</span><span class="st">"30.0"</span>/&gt;</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">node</span>&gt;</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- SLAM and Localization Stack --&gt;</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/slam_stack.launch"</span>&gt;</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"use_sim_time"</span><span class="ot"> value=</span><span class="st">"$(arg simulation)"</span>/&gt;</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Motion Planning Stack --&gt;</span>  </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/motion_stack.launch"</span>&gt;</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"environment"</span><span class="ot"> value=</span><span class="st">"$(arg environment)"</span>/&gt;</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Control and Hardware Stack --&gt;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/control_stack.launch"</span><span class="ot"> unless=</span><span class="st">"$(arg simulation)"</span>&gt;</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"robot_name"</span><span class="ot"> value=</span><span class="st">"$(arg robot_name)"</span>/&gt;</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Sensor Processing Stack --&gt;</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/sensors_stack.launch"</span>&gt;</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"simulation"</span><span class="ot"> value=</span><span class="st">"$(arg simulation)"</span>/&gt;</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- User Interface Stack --&gt;</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/ui_stack.launch"</span>&gt;</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"debug"</span><span class="ot"> value=</span><span class="st">"$(arg debug)"</span>/&gt;</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- System Monitoring --&gt;</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/monitoring_stack.launch"</span>&gt;</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"robot_name"</span><span class="ot"> value=</span><span class="st">"$(arg robot_name)"</span>/&gt;</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Environment-specific Configuration --&gt;</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/environments/$(arg environment).launch"</span>/&gt;</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">launch</span>&gt;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="configuration-management" class="level2">
<h2 class="anchored" data-anchor-id="configuration-management">Configuration Management</h2>
<section id="parameter-hierarchy" class="level3">
<h3 class="anchored" data-anchor-id="parameter-hierarchy">Parameter Hierarchy</h3>
<p>Parameters are organized hierarchically with inheritance and overrides:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># robot_params.yaml - Base robot configuration</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">robot</span><span class="kw">:</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">  # Physical parameters</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">geometry</span><span class="kw">:</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">wheel_base</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.35</span><span class="co">                # Distance between wheels (m)</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">wheel_radius</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.075</span><span class="co">             # Wheel radius (m)</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">robot_radius</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.25</span><span class="co">              # Robot inscribed radius (m)</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">  # Kinematic limits</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">kinematics</span><span class="kw">:</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_linear_velocity</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span><span class="co">        # Maximum linear velocity (m/s)</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_angular_velocity</span><span class="kw">:</span><span class="at"> </span><span class="fl">2.0</span><span class="co">       # Maximum angular velocity (rad/s)</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_linear_acceleration</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span><span class="co">    # Maximum linear acceleration (m/sÂ²)</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_angular_acceleration</span><span class="kw">:</span><span class="at"> </span><span class="fl">2.0</span><span class="co">   # Maximum angular acceleration (rad/sÂ²)</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co">  # Sensor specifications</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">sensors</span><span class="kw">:</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">lidar</span><span class="kw">:</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"ydlidar_tg15"</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">frame_id</span><span class="kw">:</span><span class="at"> </span><span class="st">"laser_link"</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">topic</span><span class="kw">:</span><span class="at"> </span><span class="st">"/scan"</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">update_rate</span><span class="kw">:</span><span class="at"> </span><span class="fl">10.0</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="at">      </span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">imu</span><span class="kw">:</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"xsens_mti"</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">frame_id</span><span class="kw">:</span><span class="at"> </span><span class="st">"imu_link"</span><span class="at"> </span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">topic</span><span class="kw">:</span><span class="at"> </span><span class="st">"/imu/data"</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">update_rate</span><span class="kw">:</span><span class="at"> </span><span class="fl">100.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="dynamic-reconfiguration" class="level3">
<h3 class="anchored" data-anchor-id="dynamic-reconfiguration">Dynamic Reconfiguration</h3>
<p>Critical parameters support runtime reconfiguration:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp code-with-copy"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Dynamic reconfigure server setup</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;dynamic_reconfigure/server.h&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;system/SystemConfigConfig.h&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SystemManager <span class="op">{</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="kw">private</span><span class="op">:</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    dynamic_reconfigure<span class="op">::</span>Server<span class="op">&lt;</span>system<span class="op">::</span>SystemConfigConfig<span class="op">&gt;</span> <span class="va">config_server_</span><span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> configCallback<span class="op">(</span>system<span class="op">::</span>SystemConfigConfig <span class="op">&amp;</span>config<span class="op">,</span> <span class="dt">uint32_t</span> level<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Update navigation parameters</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>level <span class="op">&amp;</span> system<span class="op">::</span>SystemConfig_navigation_gains<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>            updateNavigationGains<span class="op">(</span>config<span class="op">);</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Update safety parameters</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>level <span class="op">&amp;</span> system<span class="op">::</span>SystemConfig_safety_limits<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>            updateSafetyLimits<span class="op">(</span>config<span class="op">);</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Update sensor parameters</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>level <span class="op">&amp;</span> system<span class="op">::</span>SystemConfig_sensor_settings<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>            updateSensorSettings<span class="op">(</span>config<span class="op">);</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span><span class="op">:</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    SystemManager<span class="op">()</span> <span class="op">:</span> <span class="va">config_server_</span><span class="op">(</span>ros<span class="op">::</span>NodeHandle<span class="op">(</span><span class="st">"~"</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>        <span class="va">config_server_</span><span class="op">.</span>setCallback<span class="op">(</span><span class="ex">boost::</span>bind<span class="op">(&amp;</span>SystemManager<span class="op">::</span>configCallback<span class="op">,</span> <span class="kw">this</span><span class="op">,</span> _1<span class="op">,</span> _2<span class="op">));</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="system-monitoring" class="level2">
<h2 class="anchored" data-anchor-id="system-monitoring">System Monitoring</h2>
<section id="health-monitoring-system" class="level3">
<h3 class="anchored" data-anchor-id="health-monitoring-system">Health Monitoring System</h3>
<pre class="mermaid"><code>graph TB
    subgraph "Node Health Monitors"
        NH1[Navigation Health]
        NH2[Localization Health] 
        NH3[Hardware Health]
        NH4[Sensor Health]
    end
    
    subgraph "System Health Aggregator"  
        SHA[Health Aggregator&lt;br/&gt;Central Monitor]
    end
    
    subgraph "Alert Systems"
        LED[Status LEDs]
        BUZZ[Audio Alerts]
        LOG[System Logs]
        WEB[Web Dashboard]
    end
    
    subgraph "Recovery Actions"
        AUTO[Auto Recovery&lt;br/&gt;Restart Nodes]
        MANUAL[Manual Recovery&lt;br/&gt;User Intervention]
        SAFE[Safe Mode&lt;br/&gt;Minimal Function]
    end
    
    NH1 --&gt; SHA
    NH2 --&gt; SHA
    NH3 --&gt; SHA
    NH4 --&gt; SHA
    
    SHA --&gt; LED
    SHA --&gt; BUZZ
    SHA --&gt; LOG
    SHA --&gt; WEB
    
    SHA --&gt; AUTO
    SHA --&gt; MANUAL  
    SHA --&gt; SAFE
    
    style SHA fill:#e1f5fe
    style AUTO fill:#f3e5f5</code></pre>
</section>
<section id="diagnostic-framework" class="level3">
<h3 class="anchored" data-anchor-id="diagnostic-framework">Diagnostic Framework</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode cpp code-with-copy"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">// System health monitoring node</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SystemHealthMonitor <span class="op">{</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="kw">private</span><span class="op">:</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    ros<span class="op">::</span>NodeHandle <span class="va">nh_</span><span class="op">;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    diagnostic_updater<span class="op">::</span>Updater <span class="va">diagnostic_updater_</span><span class="op">;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Health status for each subsystem</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">enum</span> HealthStatus <span class="op">{</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        HEALTHY <span class="op">=</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>        WARNING <span class="op">=</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        ERROR <span class="op">=</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>        CRITICAL <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">};</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">struct</span> SubsystemHealth <span class="op">{</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>        <span class="bu">std::</span>string name<span class="op">;</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>        HealthStatus status<span class="op">;</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">std::</span>string message<span class="op">;</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>        ros<span class="op">::</span>Time last_update<span class="op">;</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">};</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>map<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">,</span> SubsystemHealth<span class="op">&gt;</span> <span class="va">subsystem_health_</span><span class="op">;</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span><span class="op">:</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> navigationHealthCallback<span class="op">(</span><span class="at">const</span> diagnostic_msgs<span class="op">::</span>DiagnosticArray<span class="op">::</span>ConstPtr<span class="op">&amp;</span> msg<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>        updateSubsystemHealth<span class="op">(</span><span class="st">"navigation"</span><span class="op">,</span> msg<span class="op">);</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> localizationHealthCallback<span class="op">(</span><span class="at">const</span> diagnostic_msgs<span class="op">::</span>DiagnosticArray<span class="op">::</span>ConstPtr<span class="op">&amp;</span> msg<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>        updateSubsystemHealth<span class="op">(</span><span class="st">"localization"</span><span class="op">,</span> msg<span class="op">);</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> hardwareHealthCallback<span class="op">(</span><span class="at">const</span> diagnostic_msgs<span class="op">::</span>DiagnosticArray<span class="op">::</span>ConstPtr<span class="op">&amp;</span> msg<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>        updateSubsystemHealth<span class="op">(</span><span class="st">"hardware"</span><span class="op">,</span> msg<span class="op">);</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> publishSystemHealth<span class="op">()</span> <span class="op">{</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>        diagnostic_msgs<span class="op">::</span>DiagnosticArray system_health<span class="op">;</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>        system_health<span class="op">.</span>header<span class="op">.</span>stamp <span class="op">=</span> ros<span class="op">::</span>Time<span class="op">::</span>now<span class="op">();</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Aggregate subsystem health</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>        HealthStatus overall_status <span class="op">=</span> HEALTHY<span class="op">;</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="at">const</span> <span class="kw">auto</span><span class="op">&amp;</span> subsystem <span class="op">:</span> <span class="va">subsystem_health_</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>subsystem<span class="op">.</span>second<span class="op">.</span>status <span class="op">&gt;</span> overall_status<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>                overall_status <span class="op">=</span> subsystem<span class="op">.</span>second<span class="op">.</span>status<span class="op">;</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Create system health message</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>        diagnostic_msgs<span class="op">::</span>DiagnosticStatus status<span class="op">;</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>        status<span class="op">.</span>name <span class="op">=</span> <span class="st">"system_overall"</span><span class="op">;</span></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>        status<span class="op">.</span>level <span class="op">=</span> <span class="kw">static_cast</span><span class="op">&lt;</span><span class="dt">uint8_t</span><span class="op">&gt;(</span>overall_status<span class="op">);</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>        status<span class="op">.</span>message <span class="op">=</span> getHealthMessage<span class="op">(</span>overall_status<span class="op">);</span></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>        system_health<span class="op">.</span>status<span class="op">.</span>push_back<span class="op">(</span>status<span class="op">);</span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>        <span class="va">health_publisher_</span><span class="op">.</span>publish<span class="op">(</span>system_health<span class="op">);</span></span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="performance-monitoring" class="level3">
<h3 class="anchored" data-anchor-id="performance-monitoring">Performance Monitoring</h3>
<section id="key-performance-indicators-kpis" class="level4">
<h4 class="anchored" data-anchor-id="key-performance-indicators-kpis">Key Performance Indicators (KPIs)</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Performance thresholds</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">performance_thresholds</span><span class="kw">:</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">  # System resource usage</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">cpu_usage_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">70.0</span><span class="co">           # CPU usage warning threshold (%)</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">cpu_usage_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">90.0</span><span class="co">          # CPU usage critical threshold (%)</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">memory_usage_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">80.0</span><span class="co">        # Memory usage warning threshold (%)</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">memory_usage_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">95.0</span><span class="co">       # Memory usage critical threshold (%)</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">  # Communication performance</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">topic_hz_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.8</span><span class="co">              # Topic frequency warning (fraction of expected)</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">topic_hz_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.5</span><span class="co">             # Topic frequency critical (fraction of expected)</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">latency_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">100.0</span><span class="co">             # Communication latency warning (ms)</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">latency_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">500.0</span><span class="co">            # Communication latency critical (ms)</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="at">  </span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co">  # Navigation performance</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">localization_error_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.5</span><span class="co">    # Localization error warning (m)</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">localization_error_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">2.0</span><span class="co">   # Localization error critical (m)</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">path_deviation_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span><span class="co">        # Path deviation warning (m)</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">path_deviation_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">3.0</span><span class="co">       # Path deviation critical (m)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="automated-performance-analysis" class="level4">
<h4 class="anchored" data-anchor-id="automated-performance-analysis">Automated Performance Analysis</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">System Performance Monitor</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">Analyzes system performance and generates reports</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> rospy</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> psutil</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagnostic_msgs.msg <span class="im">import</span> DiagnosticArray, DiagnosticStatus</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PerformanceMonitor:</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.performance_pub <span class="op">=</span> rospy.Publisher(<span class="st">'/system/performance'</span>, </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>                                             DiagnosticArray, queue_size<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Load performance thresholds</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.thresholds <span class="op">=</span> rospy.get_param(<span class="st">'/performance_thresholds'</span>, {})</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Start monitoring timer</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.monitor_timer <span class="op">=</span> rospy.Timer(rospy.Duration(<span class="fl">1.0</span>), <span class="va">self</span>.monitor_callback)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> monitor_callback(<span class="va">self</span>, event):</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Monitor system performance and publish diagnostics"""</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>        diagnostic_array <span class="op">=</span> DiagnosticArray()</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>        diagnostic_array.header.stamp <span class="op">=</span> rospy.Time.now()</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># CPU usage monitoring</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>        cpu_percent <span class="op">=</span> psutil.cpu_percent()</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>        cpu_status <span class="op">=</span> <span class="va">self</span>.create_diagnostic_status(</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="st">"system/cpu_usage"</span>,</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>            level<span class="op">=</span><span class="va">self</span>.get_level(cpu_percent, </span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>                               <span class="va">self</span>.thresholds.get(<span class="st">'cpu_usage_warning'</span>, <span class="dv">70</span>),</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>                               <span class="va">self</span>.thresholds.get(<span class="st">'cpu_usage_critical'</span>, <span class="dv">90</span>)),</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>            message<span class="op">=</span><span class="ss">f"CPU usage: </span><span class="sc">{</span>cpu_percent<span class="sc">:.1f}</span><span class="ss">%"</span>,</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>            values<span class="op">=</span>[(<span class="st">"cpu_percent"</span>, cpu_percent)]</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>        diagnostic_array.status.append(cpu_status)</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Memory usage monitoring</span></span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>        memory <span class="op">=</span> psutil.virtual_memory()</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>        memory_status <span class="op">=</span> <span class="va">self</span>.create_diagnostic_status(</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="st">"system/memory_usage"</span>, </span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>            level<span class="op">=</span><span class="va">self</span>.get_level(memory.percent,</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>                               <span class="va">self</span>.thresholds.get(<span class="st">'memory_usage_warning'</span>, <span class="dv">80</span>),</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>                               <span class="va">self</span>.thresholds.get(<span class="st">'memory_usage_critical'</span>, <span class="dv">95</span>)),</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>            message<span class="op">=</span><span class="ss">f"Memory usage: </span><span class="sc">{</span>memory<span class="sc">.</span>percent<span class="sc">:.1f}</span><span class="ss">%"</span>,</span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>            values<span class="op">=</span>[(<span class="st">"memory_percent"</span>, memory.percent),</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>                   (<span class="st">"memory_available"</span>, memory.available)]</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>        diagnostic_array.status.append(memory_status)</span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Publish diagnostics</span></span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.performance_pub.publish(diagnostic_array)</span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_level(<span class="va">self</span>, value, warning_threshold, critical_threshold):</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Determine diagnostic level based on thresholds"""</span></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> value <span class="op">&gt;=</span> critical_threshold:</span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> DiagnosticStatus.ERROR</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> value <span class="op">&gt;=</span> warning_threshold:</span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> DiagnosticStatus.WARN</span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> DiagnosticStatus.OK</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="data-management" class="level2">
<h2 class="anchored" data-anchor-id="data-management">Data Management</h2>
<section id="logging-and-data-collection" class="level3">
<h3 class="anchored" data-anchor-id="logging-and-data-collection">Logging and Data Collection</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data logging configuration</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">logging_config</span><span class="kw">:</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">  # ROS bag recording</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">bag_recording</span><span class="kw">:</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">enabled</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">topics</span><span class="kw">:</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/tf"</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/tf_static"</span><span class="at"> </span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/scan"</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/odom"</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/cmd_vel"</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/move_base/goal"</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/move_base/result"</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_bag_size</span><span class="kw">:</span><span class="at"> </span><span class="st">"1GB"</span><span class="co">           # Maximum bag file size</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_bag_duration</span><span class="kw">:</span><span class="at"> </span><span class="st">"1h"</span><span class="co">        # Maximum recording duration</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">  # System logs</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">system_logging</span><span class="kw">:</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">log_level</span><span class="kw">:</span><span class="at"> </span><span class="st">"INFO"</span><span class="co">             # ROS log level</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">log_directory</span><span class="kw">:</span><span class="at"> </span><span class="st">"~/.ros/log"</span><span class="co">   # Log directory</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_log_size</span><span class="kw">:</span><span class="at"> </span><span class="st">"100MB"</span><span class="co">         # Maximum log file size</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">log_rotation_count</span><span class="kw">:</span><span class="at"> </span><span class="dv">10</span><span class="co">        # Number of rotated logs</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co">  # Performance data</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">performance_logging</span><span class="kw">:</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">enabled</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">metrics_topics</span><span class="kw">:</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/diagnostics"</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/system/performance"</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/system/health"</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">sampling_rate</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span><span class="co">            # Data sampling rate (Hz)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="data-analysis-tools" class="level3">
<h3 class="anchored" data-anchor-id="data-analysis-tools">Data Analysis Tools</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># System analysis script</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Analyze ROS bag files</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">analyze_bag_file()</span> <span class="kw">{</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">local</span> <span class="va">bag_file</span><span class="op">=</span><span class="va">$1</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Analyzing bag file: </span><span class="va">$bag_file</span><span class="st">"</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Basic bag info</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rosbag</span> info <span class="st">"</span><span class="va">$bag_file</span><span class="st">"</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Topic frequency analysis</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rostopic</span> hz /scan <span class="op">&lt;</span> <span class="st">"</span><span class="va">$bag_file</span><span class="st">"</span> <span class="kw">&amp;</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rostopic</span> hz /odom <span class="op">&lt;</span> <span class="st">"</span><span class="va">$bag_file</span><span class="st">"</span> <span class="kw">&amp;</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Generate plots</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rqt_plot</span> <span class="st">"</span><span class="va">$bag_file</span><span class="st">"</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="co"># System performance report</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="fu">generate_performance_report()</span> <span class="kw">{</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Generating system performance report..."</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># CPU and memory usage over time</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    <span class="ex">python3</span> scripts/analyze_performance.py <span class="dt">\</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">--input</span> /var/log/system_performance.log <span class="dt">\</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">--output</span> reports/performance_report.html</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Navigation performance metrics</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>    <span class="ex">python3</span> scripts/analyze_navigation.py <span class="dt">\</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">--bag_file</span> latest_mission.bag <span class="dt">\</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">--output</span> reports/navigation_report.html</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Main analysis function</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a><span class="fu">main()</span> <span class="kw">{</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Find latest bag file</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>    <span class="va">latest_bag</span><span class="op">=</span><span class="va">$(</span><span class="fu">find</span> ~/.ros/bags <span class="at">-name</span> <span class="st">"*.bag"</span> <span class="at">-type</span> f <span class="at">-printf</span> <span class="st">'%T@ %p\n'</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-1</span> <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span><span class="st">' '</span> <span class="at">-f2-</span><span class="va">)</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">[</span> <span class="ot">-n</span> <span class="st">"</span><span class="va">$latest_bag</span><span class="st">"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>        <span class="ex">analyze_bag_file</span> <span class="st">"</span><span class="va">$latest_bag</span><span class="st">"</span></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">fi</span></span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>    <span class="ex">generate_performance_report</span></span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a><span class="ex">main</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="deployment-patterns" class="level2">
<h2 class="anchored" data-anchor-id="deployment-patterns">Deployment Patterns</h2>
<section id="development-vs-production" class="level3">
<h3 class="anchored" data-anchor-id="development-vs-production">Development vs Production</h3>
<section id="development-configuration" class="level4">
<h4 class="anchored" data-anchor-id="development-configuration">Development Configuration</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Development environment settings</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">development</span><span class="kw">:</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">  # Debugging enabled</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">debug_mode</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">verbose_logging</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">  # Reduced safety constraints for testing</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">safety</span><span class="kw">:</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_velocity</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.5</span><span class="co">             # Reduced max velocity</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">obstacle_buffer</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.3</span><span class="co">          # Increased safety buffer</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">  # Development tools enabled</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">tools</span><span class="kw">:</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">rviz</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">                    # Enable RViz visualization</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">rqt_tools</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">              # Enable rqt debugging tools</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">web_dashboard</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">          # Enable web dashboard</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="production-configuration" class="level4">
<h4 class="anchored" data-anchor-id="production-configuration">Production Configuration</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Production environment settings</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">production</span><span class="kw">:</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">  # Debugging disabled for performance</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">debug_mode</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">verbose_logging</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">  # Full performance settings</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">safety</span><span class="kw">:</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_velocity</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span><span class="co">             # Full max velocity</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">obstacle_buffer</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.2</span><span class="co">          # Standard safety buffer</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">  # Minimal UI for performance</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">tools</span><span class="kw">:</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">rviz</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span><span class="co">                   # Disable RViz (performance)</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">rqt_tools</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span><span class="co">             # Disable debugging tools</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">web_dashboard</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">          # Keep web dashboard for monitoring</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="containerized-deployment" class="level3">
<h3 class="anchored" data-anchor-id="containerized-deployment">Containerized Deployment</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode dockerfile code-with-copy"><code class="sourceCode dockerfile"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beebot System Container</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ros:melodic-desktop-full</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Install system dependencies</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="ex">apt-get</span> update <span class="kw">&amp;&amp;</span> <span class="ex">apt-get</span> install <span class="at">-y</span> <span class="dt">\</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    python3-pip <span class="dt">\</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    libudev-dev <span class="dt">\</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    libusb-1.0-0-dev <span class="dt">\</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&amp;&amp;</span> <span class="fu">rm</span> <span class="at">-rf</span> /var/lib/apt/lists/<span class="pp">*</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Install Python dependencies</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> requirements.txt /tmp/requirements.txt</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="ex">pip3</span> install <span class="at">-r</span> /tmp/requirements.txt</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy Beebot source code</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> . /catkin_ws/src/beebot</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="kw">WORKDIR</span> /catkin_ws</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the workspace</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="ex">/bin/bash</span> <span class="at">-c</span> <span class="st">"source /opt/ros/melodic/setup.bash &amp;&amp; catkin_make"</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Setup environment</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="bu">echo</span> <span class="st">"source /catkin_ws/devel/setup.bash"</span> <span class="op">&gt;&gt;</span> ~/.bashrc</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Entry point</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> docker/entrypoint.sh /entrypoint.sh</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="fu">chmod</span> +x /entrypoint.sh</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a><span class="kw">ENTRYPOINT</span> [<span class="st">"/entrypoint.sh"</span>]</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Default command</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a><span class="kw">CMD</span> [<span class="st">"roslaunch"</span>, <span class="st">"system"</span>, <span class="st">"beebot_complete.launch"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="troubleshooting-framework" class="level2">
<h2 class="anchored" data-anchor-id="troubleshooting-framework">Troubleshooting Framework</h2>
<section id="automated-diagnostics" class="level3">
<h3 class="anchored" data-anchor-id="automated-diagnostics">Automated Diagnostics</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">Automated System Diagnostics</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">Runs comprehensive system health checks</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SystemDiagnostics:</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.test_results <span class="op">=</span> {}</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> run_all_diagnostics(<span class="va">self</span>):</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Run complete diagnostic suite"""</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Running Beebot System Diagnostics..."</span>)</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Hardware diagnostics</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.test_hardware_connectivity()</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.test_sensor_functionality()</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Software diagnostics  </span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.test_ros_connectivity()</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.test_node_health()</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Navigation diagnostics</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.test_localization_accuracy()</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.test_path_planning()</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Generate report</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.generate_diagnostic_report()</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_hardware_connectivity(<span class="va">self</span>):</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Test hardware device connectivity"""</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Testing hardware connectivity..."</span>)</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Test Arduino connection</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>            <span class="im">import</span> serial</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>            ser <span class="op">=</span> serial.Serial(<span class="st">'/dev/ttyUSB0'</span>, <span class="dv">115200</span>, timeout<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>            ser.close()</span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.test_results[<span class="st">'arduino_connection'</span>] <span class="op">=</span> <span class="st">'PASS'</span></span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span>:</span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.test_results[<span class="st">'arduino_connection'</span>] <span class="op">=</span> <span class="st">'FAIL'</span></span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Test LiDAR connection</span></span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> os.system(<span class="st">'ls /dev/ttyUSB* | grep ttyUSB1 &gt; /dev/null'</span>)</span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.test_results[<span class="st">'lidar_connection'</span>] <span class="op">=</span> <span class="st">'PASS'</span> <span class="cf">if</span> result <span class="op">==</span> <span class="dv">0</span> <span class="cf">else</span> <span class="st">'FAIL'</span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> generate_diagnostic_report(<span class="va">self</span>):</span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Generate HTML diagnostic report"""</span></span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a>        html_content <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;!DOCTYPE html&gt;</span></span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;html&gt;</span></span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;head&gt;</span></span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;title&gt;Beebot System Diagnostics&lt;/title&gt;</span></span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;style&gt;</span></span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a><span class="st">                .pass { color: green; }</span></span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a><span class="st">                .fail { color: red; }</span></span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a><span class="st">                .warn { color: orange; }</span></span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;/style&gt;</span></span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;/head&gt;</span></span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;body&gt;</span></span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;h1&gt;Beebot System Diagnostics Report&lt;/h1&gt;</span></span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;table border="1"&gt;</span></span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a><span class="st">                &lt;tr&gt;&lt;th&gt;Test&lt;/th&gt;&lt;th&gt;Result&lt;/th&gt;&lt;/tr&gt;</span></span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a><span class="st">        """</span></span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> test_name, result <span class="kw">in</span> <span class="va">self</span>.test_results.items():</span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a>            css_class <span class="op">=</span> result.lower()</span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a>            html_content <span class="op">+=</span> <span class="ss">f"&lt;tr&gt;&lt;td&gt;</span><span class="sc">{</span>test_name<span class="sc">}</span><span class="ss">&lt;/td&gt;&lt;td class='</span><span class="sc">{</span>css_class<span class="sc">}</span><span class="ss">'&gt;</span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">&lt;/td&gt;&lt;/tr&gt;"</span></span>
<span id="cb15-69"><a href="#cb15-69" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb15-70"><a href="#cb15-70" aria-hidden="true" tabindex="-1"></a>        html_content <span class="op">+=</span> <span class="st">"""</span></span>
<span id="cb15-71"><a href="#cb15-71" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;/table&gt;</span></span>
<span id="cb15-72"><a href="#cb15-72" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;/body&gt;</span></span>
<span id="cb15-73"><a href="#cb15-73" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;/html&gt;</span></span>
<span id="cb15-74"><a href="#cb15-74" aria-hidden="true" tabindex="-1"></a><span class="st">        """</span></span>
<span id="cb15-75"><a href="#cb15-75" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-76"><a href="#cb15-76" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(<span class="st">'/tmp/beebot_diagnostics.html'</span>, <span class="st">'w'</span>) <span class="im">as</span> f:</span>
<span id="cb15-77"><a href="#cb15-77" aria-hidden="true" tabindex="-1"></a>            f.write(html_content)</span>
<span id="cb15-78"><a href="#cb15-78" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb15-79"><a href="#cb15-79" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Diagnostic report saved to /tmp/beebot_diagnostics.html"</span>)</span>
<span id="cb15-80"><a href="#cb15-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-81"><a href="#cb15-81" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">'__main__'</span>:</span>
<span id="cb15-82"><a href="#cb15-82" aria-hidden="true" tabindex="-1"></a>    diagnostics <span class="op">=</span> SystemDiagnostics()</span>
<span id="cb15-83"><a href="#cb15-83" aria-hidden="true" tabindex="-1"></a>    diagnostics.run_all_diagnostics()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="next-steps" class="level2">
<h2 class="anchored" data-anchor-id="next-steps">Next Steps</h2>
<ul>
<li><strong><a href="../guides/hardware-setup.qmd">Hardware Setup Guide â†’</a></strong></li>
<li><strong><a href="../getting-started/installation.qmd">Software Installation â†’</a></strong></li>
<li><strong><a href="../guides/configuration.qmd">Configuration Tuning â†’</a></strong></li>
<li><strong><a href="../guides/troubleshooting.qmd">Troubleshooting Guide â†’</a></strong></li>
</ul>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Integration Best Practices
</div>
</div>
<div class="callout-body-container callout-body">
<section id="system-design" class="level3">
<h3 class="anchored" data-anchor-id="system-design">System Design</h3>
<ul>
<li>Use consistent naming conventions across all modules</li>
<li>Implement proper error handling and recovery mechanisms</li>
<li>Design for modularity and testability</li>
<li>Document all interfaces and dependencies</li>
</ul>
</section>
<section id="performance-optimization" class="level3">
<h3 class="anchored" data-anchor-id="performance-optimization">Performance Optimization</h3>
<ul>
<li>Monitor system resources and optimize bottlenecks</li>
<li>Use appropriate message passing strategies</li>
<li>Implement efficient data structures and algorithms</li>
<li>Consider real-time requirements for critical paths</li>
</ul>
</section>
<section id="maintenance" class="level3">
<h3 class="anchored" data-anchor-id="maintenance">Maintenance</h3>
<ul>
<li>Implement comprehensive logging and monitoring</li>
<li>Use version control for configuration management</li>
<li>Create automated testing and validation procedures</li>
<li>Plan for regular system updates and maintenance</li>
</ul>
</section>
</div>
</div>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb16" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "System Integration"</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "Complete system architecture and integration patterns"</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu"># System Integration</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>The System Integration layer orchestrates all Beebot subsystems into a cohesive autonomous mobile robot platform. This includes launch file management, parameter coordination, monitoring systems, and the overall software architecture that enables seamless operation across SLAM, motion planning, control, and user interfaces.</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="fu">## System Architecture</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="fu">### Complete System Overview</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="in">```mermaid</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>graph TB</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    subgraph <span class="ot">"</span><span class="st">User Interfaces</span><span class="ot">"</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>        RVIZ[RViz Visualization]</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>        WEB[Web Dashboard]</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>        MOBILE[Mobile App]</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>        VOICE[Voice Control]</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>    end</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>    subgraph <span class="ot">"</span><span class="st">High-Level Planning</span><span class="ot">"</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>        MISSION[Mission Planner]</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>        WM[Waypoint Manager]</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>        BEHAVIOR[Behavior Tree]</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>    end</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>    subgraph <span class="ot">"</span><span class="st">Navigation Stack</span><span class="ot">"</span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>        MOVEBASE[move_base&lt;br/&gt;Navigation Server]</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>        GP[Global Planner&lt;br/&gt;A<span class="wa">*/R</span>RT<span class="ot">*</span>]</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>        LP[Local Planner&lt;br/&gt;DWA]</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>        COSTMAP[Costmap <span class="dv">2</span>D&lt;br/&gt;Global/Local]</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>    end</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>    subgraph <span class="ot">"</span><span class="st">Localization &amp; Mapping</span><span class="ot">"</span>  </span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>        ALS[Advanced Localization&lt;br/&gt;ALS/EMCL]</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>        MAPPING[SLAM/Mapping&lt;br/&gt;Ray Casting]</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>        TF[Transform Tree&lt;br/&gt;tf2]</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>    end</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>    subgraph <span class="ot">"</span><span class="st">Sensor Processing</span><span class="ot">"</span></span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>        LIDAR[LiDAR Processing&lt;br/&gt;scan_to_pcl]</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>        IMU[IMU Processing&lt;br/&gt;sensor_fusion]</span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>        VISION[Computer Vision&lt;br/&gt;Image Processing]</span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>    end</span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>    subgraph <span class="ot">"</span><span class="st">Hardware Interface</span><span class="ot">"</span></span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>        ARDUINO[Arduino Serial&lt;br/&gt;Motor Control]</span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>        REMOTE[Remote Control&lt;br/&gt;Xbox/MQTT]</span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>        SENSORS[Sensor Interface&lt;br/&gt;Hardware I/O]</span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>    end</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>    subgraph <span class="ot">"</span><span class="st">System Services</span><span class="ot">"</span></span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a>        MONITOR[System Monitor&lt;br/&gt;Health Check]</span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>        LOG[Data Logging&lt;br/&gt;Bag Files]</span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a>        PARAM[Parameter Server&lt;br/&gt;Dynamic Config]</span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a>        DIAG[Diagnostics&lt;br/&gt;Error Handling]</span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>    end</span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>    % User Interface Connections</span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>    RVIZ --&gt; MOVEBASE</span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>    WEB --&gt; MISSION</span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>    MOBILE --&gt; REMOTE</span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>    VOICE --&gt; BEHAVIOR</span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a>    % Planning Layer Connections</span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a>    MISSION --&gt; WM</span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a>    WM --&gt; MOVEBASE</span>
<span id="cb16-70"><a href="#cb16-70" aria-hidden="true" tabindex="-1"></a>    BEHAVIOR --&gt; MOVEBASE</span>
<span id="cb16-71"><a href="#cb16-71" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-72"><a href="#cb16-72" aria-hidden="true" tabindex="-1"></a>    % Navigation Stack Connections</span>
<span id="cb16-73"><a href="#cb16-73" aria-hidden="true" tabindex="-1"></a>    MOVEBASE --&gt; GP</span>
<span id="cb16-74"><a href="#cb16-74" aria-hidden="true" tabindex="-1"></a>    MOVEBASE --&gt; LP</span>
<span id="cb16-75"><a href="#cb16-75" aria-hidden="true" tabindex="-1"></a>    MOVEBASE --&gt; COSTMAP</span>
<span id="cb16-76"><a href="#cb16-76" aria-hidden="true" tabindex="-1"></a>    GP --&gt; LP</span>
<span id="cb16-77"><a href="#cb16-77" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-78"><a href="#cb16-78" aria-hidden="true" tabindex="-1"></a>    % Localization Connections</span>
<span id="cb16-79"><a href="#cb16-79" aria-hidden="true" tabindex="-1"></a>    ALS --&gt; MOVEBASE</span>
<span id="cb16-80"><a href="#cb16-80" aria-hidden="true" tabindex="-1"></a>    ALS --&gt; TF</span>
<span id="cb16-81"><a href="#cb16-81" aria-hidden="true" tabindex="-1"></a>    MAPPING --&gt; COSTMAP</span>
<span id="cb16-82"><a href="#cb16-82" aria-hidden="true" tabindex="-1"></a>    TF --&gt; MOVEBASE</span>
<span id="cb16-83"><a href="#cb16-83" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-84"><a href="#cb16-84" aria-hidden="true" tabindex="-1"></a>    % Sensor Connections</span>
<span id="cb16-85"><a href="#cb16-85" aria-hidden="true" tabindex="-1"></a>    LIDAR --&gt; ALS</span>
<span id="cb16-86"><a href="#cb16-86" aria-hidden="true" tabindex="-1"></a>    LIDAR --&gt; MAPPING</span>
<span id="cb16-87"><a href="#cb16-87" aria-hidden="true" tabindex="-1"></a>    IMU --&gt; ALS</span>
<span id="cb16-88"><a href="#cb16-88" aria-hidden="true" tabindex="-1"></a>    VISION --&gt; COSTMAP</span>
<span id="cb16-89"><a href="#cb16-89" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-90"><a href="#cb16-90" aria-hidden="true" tabindex="-1"></a>    % Hardware Connections</span>
<span id="cb16-91"><a href="#cb16-91" aria-hidden="true" tabindex="-1"></a>    ARDUINO --&gt; Odometry[Odometry]</span>
<span id="cb16-92"><a href="#cb16-92" aria-hidden="true" tabindex="-1"></a>    REMOTE --&gt; MOVEBASE</span>
<span id="cb16-93"><a href="#cb16-93" aria-hidden="true" tabindex="-1"></a>    SENSORS --&gt; COSTMAP</span>
<span id="cb16-94"><a href="#cb16-94" aria-hidden="true" tabindex="-1"></a>    Odometry --&gt; ALS</span>
<span id="cb16-95"><a href="#cb16-95" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-96"><a href="#cb16-96" aria-hidden="true" tabindex="-1"></a>    % System Services</span>
<span id="cb16-97"><a href="#cb16-97" aria-hidden="true" tabindex="-1"></a>    MONITOR --&gt; All[All Nodes]</span>
<span id="cb16-98"><a href="#cb16-98" aria-hidden="true" tabindex="-1"></a>    LOG --&gt; All</span>
<span id="cb16-99"><a href="#cb16-99" aria-hidden="true" tabindex="-1"></a>    PARAM --&gt; All</span>
<span id="cb16-100"><a href="#cb16-100" aria-hidden="true" tabindex="-1"></a>    DIAG --&gt; All</span>
<span id="cb16-101"><a href="#cb16-101" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-102"><a href="#cb16-102" aria-hidden="true" tabindex="-1"></a>    style MOVEBASE fill:<span class="co">#e1f5fe</span></span>
<span id="cb16-103"><a href="#cb16-103" aria-hidden="true" tabindex="-1"></a>    style ALS fill:<span class="co">#f3e5f5</span></span>
<span id="cb16-104"><a href="#cb16-104" aria-hidden="true" tabindex="-1"></a>    style ARDUINO fill:<span class="co">#fff3e0</span></span>
<span id="cb16-105"><a href="#cb16-105" aria-hidden="true" tabindex="-1"></a>    style MONITOR fill:<span class="co">#f1f8e9</span></span>
<span id="cb16-106"><a href="#cb16-106" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-107"><a href="#cb16-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-108"><a href="#cb16-108" aria-hidden="true" tabindex="-1"></a><span class="fu">### Software Stack Layers</span></span>
<span id="cb16-109"><a href="#cb16-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-110"><a href="#cb16-110" aria-hidden="true" tabindex="-1"></a>The system is organized in distinct layers with well-defined interfaces:</span>
<span id="cb16-111"><a href="#cb16-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-112"><a href="#cb16-112" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Layer <span class="pp">|</span> Components <span class="pp">|</span> Responsibility <span class="pp">|</span> Interface <span class="pp">|</span></span>
<span id="cb16-113"><a href="#cb16-113" aria-hidden="true" tabindex="-1"></a><span class="pp">|-------|------------|---------------|-----------|</span></span>
<span id="cb16-114"><a href="#cb16-114" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Application** <span class="pp">|</span> Mission Planning, UI <span class="pp">|</span> High-level goals and user interaction <span class="pp">|</span> Action servers, web APIs <span class="pp">|</span></span>
<span id="cb16-115"><a href="#cb16-115" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Autonomous Navigation** <span class="pp">|</span> move_base, planners <span class="pp">|</span> Path planning and execution <span class="pp">|</span> ROS actions, topics <span class="pp">|</span></span>
<span id="cb16-116"><a href="#cb16-116" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Localization** <span class="pp">|</span> ALS, EMCL, mapping <span class="pp">|</span> Position estimation <span class="pp">|</span> TF transforms, topics <span class="pp">|</span></span>
<span id="cb16-117"><a href="#cb16-117" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Sensor Processing** <span class="pp">|</span> Drivers, filters <span class="pp">|</span> Raw data to meaningful info <span class="pp">|</span> Sensor messages <span class="pp">|</span></span>
<span id="cb16-118"><a href="#cb16-118" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Hardware Abstraction** <span class="pp">|</span> Arduino interface <span class="pp">|</span> Hardware control <span class="pp">|</span> Custom protocols <span class="pp">|</span></span>
<span id="cb16-119"><a href="#cb16-119" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **System Services** <span class="pp">|</span> Monitoring, logging <span class="pp">|</span> System health and data <span class="pp">|</span> Diagnostics, parameters <span class="pp">|</span></span>
<span id="cb16-120"><a href="#cb16-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-121"><a href="#cb16-121" aria-hidden="true" tabindex="-1"></a><span class="fu">## Launch System Architecture</span></span>
<span id="cb16-122"><a href="#cb16-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-123"><a href="#cb16-123" aria-hidden="true" tabindex="-1"></a><span class="fu">### Hierarchical Launch Structure</span></span>
<span id="cb16-124"><a href="#cb16-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-125"><a href="#cb16-125" aria-hidden="true" tabindex="-1"></a>The launch system is organized hierarchically for modularity and maintainability:</span>
<span id="cb16-126"><a href="#cb16-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-127"><a href="#cb16-127" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-128"><a href="#cb16-128" aria-hidden="true" tabindex="-1"></a><span class="in">system/launch/</span></span>
<span id="cb16-129"><a href="#cb16-129" aria-hidden="true" tabindex="-1"></a><span class="in">â”œâ”€â”€ beebot_complete.launch          # Complete system launch</span></span>
<span id="cb16-130"><a href="#cb16-130" aria-hidden="true" tabindex="-1"></a><span class="in">â”œâ”€â”€ modules/</span></span>
<span id="cb16-131"><a href="#cb16-131" aria-hidden="true" tabindex="-1"></a><span class="in">â”‚   â”œâ”€â”€ slam_stack.launch          # SLAM and localization</span></span>
<span id="cb16-132"><a href="#cb16-132" aria-hidden="true" tabindex="-1"></a><span class="in">â”‚   â”œâ”€â”€ motion_stack.launch        # Navigation and planning  </span></span>
<span id="cb16-133"><a href="#cb16-133" aria-hidden="true" tabindex="-1"></a><span class="in">â”‚   â”œâ”€â”€ control_stack.launch       # Hardware control</span></span>
<span id="cb16-134"><a href="#cb16-134" aria-hidden="true" tabindex="-1"></a><span class="in">â”‚   â”œâ”€â”€ sensors_stack.launch       # Sensor drivers</span></span>
<span id="cb16-135"><a href="#cb16-135" aria-hidden="true" tabindex="-1"></a><span class="in">â”‚   â””â”€â”€ ui_stack.launch            # User interfaces</span></span>
<span id="cb16-136"><a href="#cb16-136" aria-hidden="true" tabindex="-1"></a><span class="in">â”œâ”€â”€ configs/</span></span>
<span id="cb16-137"><a href="#cb16-137" aria-hidden="true" tabindex="-1"></a><span class="in">â”‚   â”œâ”€â”€ robot_params.yaml          # Robot-specific parameters</span></span>
<span id="cb16-138"><a href="#cb16-138" aria-hidden="true" tabindex="-1"></a><span class="in">â”‚   â”œâ”€â”€ sensor_configs.yaml        # Sensor configurations</span></span>
<span id="cb16-139"><a href="#cb16-139" aria-hidden="true" tabindex="-1"></a><span class="in">â”‚   â”œâ”€â”€ navigation_params.yaml     # Navigation parameters</span></span>
<span id="cb16-140"><a href="#cb16-140" aria-hidden="true" tabindex="-1"></a><span class="in">â”‚   â””â”€â”€ system_configs.yaml        # System-wide settings</span></span>
<span id="cb16-141"><a href="#cb16-141" aria-hidden="true" tabindex="-1"></a><span class="in">â””â”€â”€ environments/</span></span>
<span id="cb16-142"><a href="#cb16-142" aria-hidden="true" tabindex="-1"></a><span class="in">    â”œâ”€â”€ indoor.launch              # Indoor environment</span></span>
<span id="cb16-143"><a href="#cb16-143" aria-hidden="true" tabindex="-1"></a><span class="in">    â”œâ”€â”€ outdoor.launch             # Outdoor environment</span></span>
<span id="cb16-144"><a href="#cb16-144" aria-hidden="true" tabindex="-1"></a><span class="in">    â””â”€â”€ simulation.launch          # Simulation environment</span></span>
<span id="cb16-145"><a href="#cb16-145" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-146"><a href="#cb16-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-147"><a href="#cb16-147" aria-hidden="true" tabindex="-1"></a><span class="fu">### Master Launch File</span></span>
<span id="cb16-148"><a href="#cb16-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-149"><a href="#cb16-149" aria-hidden="true" tabindex="-1"></a><span class="in">```xml</span></span>
<span id="cb16-150"><a href="#cb16-150" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">"1.0"</span><span class="fu">?&gt;</span></span>
<span id="cb16-151"><a href="#cb16-151" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">launch</span>&gt;</span>
<span id="cb16-152"><a href="#cb16-152" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- System Configuration --&gt;</span></span>
<span id="cb16-153"><a href="#cb16-153" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"robot_name"</span><span class="ot"> default=</span><span class="st">"beebot"</span>/&gt;</span>
<span id="cb16-154"><a href="#cb16-154" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"environment"</span><span class="ot"> default=</span><span class="st">"indoor"</span>/&gt;</span>
<span id="cb16-155"><a href="#cb16-155" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"simulation"</span><span class="ot"> default=</span><span class="st">"false"</span>/&gt;</span>
<span id="cb16-156"><a href="#cb16-156" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"debug"</span><span class="ot"> default=</span><span class="st">"false"</span>/&gt;</span>
<span id="cb16-157"><a href="#cb16-157" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-158"><a href="#cb16-158" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Load Robot Parameters --&gt;</span></span>
<span id="cb16-159"><a href="#cb16-159" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">rosparam</span><span class="ot"> file=</span><span class="st">"$(find system)/configs/robot_params.yaml"</span><span class="ot"> command=</span><span class="st">"load"</span>/&gt;</span>
<span id="cb16-160"><a href="#cb16-160" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-161"><a href="#cb16-161" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Transform Tree Configuration --&gt;</span></span>
<span id="cb16-162"><a href="#cb16-162" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">node</span><span class="ot"> name=</span><span class="st">"robot_state_publisher"</span><span class="ot"> pkg=</span><span class="st">"robot_state_publisher"</span><span class="ot"> type=</span><span class="st">"robot_state_publisher"</span>&gt;</span>
<span id="cb16-163"><a href="#cb16-163" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">param</span><span class="ot"> name=</span><span class="st">"publish_frequency"</span><span class="ot"> value=</span><span class="st">"30.0"</span>/&gt;</span>
<span id="cb16-164"><a href="#cb16-164" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">node</span>&gt;</span>
<span id="cb16-165"><a href="#cb16-165" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-166"><a href="#cb16-166" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- SLAM and Localization Stack --&gt;</span></span>
<span id="cb16-167"><a href="#cb16-167" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/slam_stack.launch"</span>&gt;</span>
<span id="cb16-168"><a href="#cb16-168" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"use_sim_time"</span><span class="ot"> value=</span><span class="st">"$(arg simulation)"</span>/&gt;</span>
<span id="cb16-169"><a href="#cb16-169" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb16-170"><a href="#cb16-170" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-171"><a href="#cb16-171" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Motion Planning Stack --&gt;</span>  </span>
<span id="cb16-172"><a href="#cb16-172" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/motion_stack.launch"</span>&gt;</span>
<span id="cb16-173"><a href="#cb16-173" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"environment"</span><span class="ot"> value=</span><span class="st">"$(arg environment)"</span>/&gt;</span>
<span id="cb16-174"><a href="#cb16-174" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb16-175"><a href="#cb16-175" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-176"><a href="#cb16-176" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Control and Hardware Stack --&gt;</span></span>
<span id="cb16-177"><a href="#cb16-177" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/control_stack.launch"</span><span class="ot"> unless=</span><span class="st">"$(arg simulation)"</span>&gt;</span>
<span id="cb16-178"><a href="#cb16-178" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"robot_name"</span><span class="ot"> value=</span><span class="st">"$(arg robot_name)"</span>/&gt;</span>
<span id="cb16-179"><a href="#cb16-179" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb16-180"><a href="#cb16-180" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-181"><a href="#cb16-181" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Sensor Processing Stack --&gt;</span></span>
<span id="cb16-182"><a href="#cb16-182" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/sensors_stack.launch"</span>&gt;</span>
<span id="cb16-183"><a href="#cb16-183" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"simulation"</span><span class="ot"> value=</span><span class="st">"$(arg simulation)"</span>/&gt;</span>
<span id="cb16-184"><a href="#cb16-184" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb16-185"><a href="#cb16-185" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-186"><a href="#cb16-186" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- User Interface Stack --&gt;</span></span>
<span id="cb16-187"><a href="#cb16-187" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/ui_stack.launch"</span>&gt;</span>
<span id="cb16-188"><a href="#cb16-188" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"debug"</span><span class="ot"> value=</span><span class="st">"$(arg debug)"</span>/&gt;</span>
<span id="cb16-189"><a href="#cb16-189" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb16-190"><a href="#cb16-190" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-191"><a href="#cb16-191" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- System Monitoring --&gt;</span></span>
<span id="cb16-192"><a href="#cb16-192" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/modules/monitoring_stack.launch"</span>&gt;</span>
<span id="cb16-193"><a href="#cb16-193" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">arg</span><span class="ot"> name=</span><span class="st">"robot_name"</span><span class="ot"> value=</span><span class="st">"$(arg robot_name)"</span>/&gt;</span>
<span id="cb16-194"><a href="#cb16-194" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">include</span>&gt;</span>
<span id="cb16-195"><a href="#cb16-195" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-196"><a href="#cb16-196" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- Environment-specific Configuration --&gt;</span></span>
<span id="cb16-197"><a href="#cb16-197" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">include</span><span class="ot"> file=</span><span class="st">"$(find system)/launch/environments/$(arg environment).launch"</span>/&gt;</span>
<span id="cb16-198"><a href="#cb16-198" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-199"><a href="#cb16-199" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">launch</span>&gt;</span>
<span id="cb16-200"><a href="#cb16-200" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-201"><a href="#cb16-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-202"><a href="#cb16-202" aria-hidden="true" tabindex="-1"></a><span class="fu">## Configuration Management</span></span>
<span id="cb16-203"><a href="#cb16-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-204"><a href="#cb16-204" aria-hidden="true" tabindex="-1"></a><span class="fu">### Parameter Hierarchy</span></span>
<span id="cb16-205"><a href="#cb16-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-206"><a href="#cb16-206" aria-hidden="true" tabindex="-1"></a>Parameters are organized hierarchically with inheritance and overrides:</span>
<span id="cb16-207"><a href="#cb16-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-208"><a href="#cb16-208" aria-hidden="true" tabindex="-1"></a><span class="in">```yaml</span></span>
<span id="cb16-209"><a href="#cb16-209" aria-hidden="true" tabindex="-1"></a><span class="co"># robot_params.yaml - Base robot configuration</span></span>
<span id="cb16-210"><a href="#cb16-210" aria-hidden="true" tabindex="-1"></a><span class="fu">robot</span><span class="kw">:</span></span>
<span id="cb16-211"><a href="#cb16-211" aria-hidden="true" tabindex="-1"></a><span class="co">  # Physical parameters</span></span>
<span id="cb16-212"><a href="#cb16-212" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">geometry</span><span class="kw">:</span></span>
<span id="cb16-213"><a href="#cb16-213" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">wheel_base</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.35</span><span class="co">                # Distance between wheels (m)</span></span>
<span id="cb16-214"><a href="#cb16-214" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">wheel_radius</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.075</span><span class="co">             # Wheel radius (m)</span></span>
<span id="cb16-215"><a href="#cb16-215" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">robot_radius</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.25</span><span class="co">              # Robot inscribed radius (m)</span></span>
<span id="cb16-216"><a href="#cb16-216" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb16-217"><a href="#cb16-217" aria-hidden="true" tabindex="-1"></a><span class="co">  # Kinematic limits</span></span>
<span id="cb16-218"><a href="#cb16-218" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">kinematics</span><span class="kw">:</span></span>
<span id="cb16-219"><a href="#cb16-219" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_linear_velocity</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span><span class="co">        # Maximum linear velocity (m/s)</span></span>
<span id="cb16-220"><a href="#cb16-220" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_angular_velocity</span><span class="kw">:</span><span class="at"> </span><span class="fl">2.0</span><span class="co">       # Maximum angular velocity (rad/s)</span></span>
<span id="cb16-221"><a href="#cb16-221" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_linear_acceleration</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span><span class="co">    # Maximum linear acceleration (m/sÂ²)</span></span>
<span id="cb16-222"><a href="#cb16-222" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_angular_acceleration</span><span class="kw">:</span><span class="at"> </span><span class="fl">2.0</span><span class="co">   # Maximum angular acceleration (rad/sÂ²)</span></span>
<span id="cb16-223"><a href="#cb16-223" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb16-224"><a href="#cb16-224" aria-hidden="true" tabindex="-1"></a><span class="co">  # Sensor specifications</span></span>
<span id="cb16-225"><a href="#cb16-225" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">sensors</span><span class="kw">:</span></span>
<span id="cb16-226"><a href="#cb16-226" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">lidar</span><span class="kw">:</span></span>
<span id="cb16-227"><a href="#cb16-227" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"ydlidar_tg15"</span></span>
<span id="cb16-228"><a href="#cb16-228" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">frame_id</span><span class="kw">:</span><span class="at"> </span><span class="st">"laser_link"</span></span>
<span id="cb16-229"><a href="#cb16-229" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">topic</span><span class="kw">:</span><span class="at"> </span><span class="st">"/scan"</span></span>
<span id="cb16-230"><a href="#cb16-230" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">update_rate</span><span class="kw">:</span><span class="at"> </span><span class="fl">10.0</span></span>
<span id="cb16-231"><a href="#cb16-231" aria-hidden="true" tabindex="-1"></a><span class="at">      </span></span>
<span id="cb16-232"><a href="#cb16-232" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">imu</span><span class="kw">:</span></span>
<span id="cb16-233"><a href="#cb16-233" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">"xsens_mti"</span></span>
<span id="cb16-234"><a href="#cb16-234" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">frame_id</span><span class="kw">:</span><span class="at"> </span><span class="st">"imu_link"</span><span class="at"> </span></span>
<span id="cb16-235"><a href="#cb16-235" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">topic</span><span class="kw">:</span><span class="at"> </span><span class="st">"/imu/data"</span></span>
<span id="cb16-236"><a href="#cb16-236" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">update_rate</span><span class="kw">:</span><span class="at"> </span><span class="fl">100.0</span></span>
<span id="cb16-237"><a href="#cb16-237" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-238"><a href="#cb16-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-239"><a href="#cb16-239" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dynamic Reconfiguration</span></span>
<span id="cb16-240"><a href="#cb16-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-241"><a href="#cb16-241" aria-hidden="true" tabindex="-1"></a>Critical parameters support runtime reconfiguration:</span>
<span id="cb16-242"><a href="#cb16-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-243"><a href="#cb16-243" aria-hidden="true" tabindex="-1"></a><span class="in">```cpp</span></span>
<span id="cb16-244"><a href="#cb16-244" aria-hidden="true" tabindex="-1"></a><span class="co">// Dynamic reconfigure server setup</span></span>
<span id="cb16-245"><a href="#cb16-245" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;dynamic_reconfigure/server.h&gt;</span></span>
<span id="cb16-246"><a href="#cb16-246" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;system/SystemConfigConfig.h&gt;</span></span>
<span id="cb16-247"><a href="#cb16-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-248"><a href="#cb16-248" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SystemManager <span class="op">{</span></span>
<span id="cb16-249"><a href="#cb16-249" aria-hidden="true" tabindex="-1"></a><span class="kw">private</span><span class="op">:</span></span>
<span id="cb16-250"><a href="#cb16-250" aria-hidden="true" tabindex="-1"></a>    dynamic_reconfigure<span class="op">::</span>Server<span class="op">&lt;</span>system<span class="op">::</span>SystemConfigConfig<span class="op">&gt;</span> <span class="va">config_server_</span><span class="op">;</span></span>
<span id="cb16-251"><a href="#cb16-251" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-252"><a href="#cb16-252" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> configCallback<span class="op">(</span>system<span class="op">::</span>SystemConfigConfig <span class="op">&amp;</span>config<span class="op">,</span> <span class="dt">uint32_t</span> level<span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-253"><a href="#cb16-253" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Update navigation parameters</span></span>
<span id="cb16-254"><a href="#cb16-254" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>level <span class="op">&amp;</span> system<span class="op">::</span>SystemConfig_navigation_gains<span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-255"><a href="#cb16-255" aria-hidden="true" tabindex="-1"></a>            updateNavigationGains<span class="op">(</span>config<span class="op">);</span></span>
<span id="cb16-256"><a href="#cb16-256" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb16-257"><a href="#cb16-257" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-258"><a href="#cb16-258" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Update safety parameters</span></span>
<span id="cb16-259"><a href="#cb16-259" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>level <span class="op">&amp;</span> system<span class="op">::</span>SystemConfig_safety_limits<span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-260"><a href="#cb16-260" aria-hidden="true" tabindex="-1"></a>            updateSafetyLimits<span class="op">(</span>config<span class="op">);</span></span>
<span id="cb16-261"><a href="#cb16-261" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb16-262"><a href="#cb16-262" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-263"><a href="#cb16-263" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Update sensor parameters</span></span>
<span id="cb16-264"><a href="#cb16-264" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>level <span class="op">&amp;</span> system<span class="op">::</span>SystemConfig_sensor_settings<span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-265"><a href="#cb16-265" aria-hidden="true" tabindex="-1"></a>            updateSensorSettings<span class="op">(</span>config<span class="op">);</span></span>
<span id="cb16-266"><a href="#cb16-266" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb16-267"><a href="#cb16-267" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb16-268"><a href="#cb16-268" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-269"><a href="#cb16-269" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span><span class="op">:</span></span>
<span id="cb16-270"><a href="#cb16-270" aria-hidden="true" tabindex="-1"></a>    SystemManager<span class="op">()</span> <span class="op">:</span> <span class="va">config_server_</span><span class="op">(</span>ros<span class="op">::</span>NodeHandle<span class="op">(</span><span class="st">"~"</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb16-271"><a href="#cb16-271" aria-hidden="true" tabindex="-1"></a>        <span class="va">config_server_</span><span class="op">.</span>setCallback<span class="op">(</span><span class="ex">boost::</span>bind<span class="op">(&amp;</span>SystemManager<span class="op">::</span>configCallback<span class="op">,</span> <span class="kw">this</span><span class="op">,</span> _1<span class="op">,</span> _2<span class="op">));</span></span>
<span id="cb16-272"><a href="#cb16-272" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb16-273"><a href="#cb16-273" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb16-274"><a href="#cb16-274" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-275"><a href="#cb16-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-276"><a href="#cb16-276" aria-hidden="true" tabindex="-1"></a><span class="fu">## System Monitoring</span></span>
<span id="cb16-277"><a href="#cb16-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-278"><a href="#cb16-278" aria-hidden="true" tabindex="-1"></a><span class="fu">### Health Monitoring System</span></span>
<span id="cb16-279"><a href="#cb16-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-280"><a href="#cb16-280" aria-hidden="true" tabindex="-1"></a><span class="in">```mermaid</span></span>
<span id="cb16-281"><a href="#cb16-281" aria-hidden="true" tabindex="-1"></a>graph TB</span>
<span id="cb16-282"><a href="#cb16-282" aria-hidden="true" tabindex="-1"></a>    subgraph <span class="ot">"</span><span class="st">Node Health Monitors</span><span class="ot">"</span></span>
<span id="cb16-283"><a href="#cb16-283" aria-hidden="true" tabindex="-1"></a>        NH1[Navigation Health]</span>
<span id="cb16-284"><a href="#cb16-284" aria-hidden="true" tabindex="-1"></a>        NH2[Localization Health] </span>
<span id="cb16-285"><a href="#cb16-285" aria-hidden="true" tabindex="-1"></a>        NH3[Hardware Health]</span>
<span id="cb16-286"><a href="#cb16-286" aria-hidden="true" tabindex="-1"></a>        NH4[Sensor Health]</span>
<span id="cb16-287"><a href="#cb16-287" aria-hidden="true" tabindex="-1"></a>    end</span>
<span id="cb16-288"><a href="#cb16-288" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-289"><a href="#cb16-289" aria-hidden="true" tabindex="-1"></a>    subgraph <span class="ot">"</span><span class="st">System Health Aggregator</span><span class="ot">"</span>  </span>
<span id="cb16-290"><a href="#cb16-290" aria-hidden="true" tabindex="-1"></a>        SHA[Health Aggregator&lt;br/&gt;Central Monitor]</span>
<span id="cb16-291"><a href="#cb16-291" aria-hidden="true" tabindex="-1"></a>    end</span>
<span id="cb16-292"><a href="#cb16-292" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-293"><a href="#cb16-293" aria-hidden="true" tabindex="-1"></a>    subgraph <span class="ot">"</span><span class="st">Alert Systems</span><span class="ot">"</span></span>
<span id="cb16-294"><a href="#cb16-294" aria-hidden="true" tabindex="-1"></a>        LED[Status LEDs]</span>
<span id="cb16-295"><a href="#cb16-295" aria-hidden="true" tabindex="-1"></a>        BUZZ[Audio Alerts]</span>
<span id="cb16-296"><a href="#cb16-296" aria-hidden="true" tabindex="-1"></a>        LOG[System Logs]</span>
<span id="cb16-297"><a href="#cb16-297" aria-hidden="true" tabindex="-1"></a>        WEB[Web Dashboard]</span>
<span id="cb16-298"><a href="#cb16-298" aria-hidden="true" tabindex="-1"></a>    end</span>
<span id="cb16-299"><a href="#cb16-299" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-300"><a href="#cb16-300" aria-hidden="true" tabindex="-1"></a>    subgraph <span class="ot">"</span><span class="st">Recovery Actions</span><span class="ot">"</span></span>
<span id="cb16-301"><a href="#cb16-301" aria-hidden="true" tabindex="-1"></a>        AUTO[Auto Recovery&lt;br/&gt;Restart Nodes]</span>
<span id="cb16-302"><a href="#cb16-302" aria-hidden="true" tabindex="-1"></a>        MANUAL[Manual Recovery&lt;br/&gt;User Intervention]</span>
<span id="cb16-303"><a href="#cb16-303" aria-hidden="true" tabindex="-1"></a>        SAFE[Safe Mode&lt;br/&gt;Minimal Function]</span>
<span id="cb16-304"><a href="#cb16-304" aria-hidden="true" tabindex="-1"></a>    end</span>
<span id="cb16-305"><a href="#cb16-305" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-306"><a href="#cb16-306" aria-hidden="true" tabindex="-1"></a>    NH1 --&gt; SHA</span>
<span id="cb16-307"><a href="#cb16-307" aria-hidden="true" tabindex="-1"></a>    NH2 --&gt; SHA</span>
<span id="cb16-308"><a href="#cb16-308" aria-hidden="true" tabindex="-1"></a>    NH3 --&gt; SHA</span>
<span id="cb16-309"><a href="#cb16-309" aria-hidden="true" tabindex="-1"></a>    NH4 --&gt; SHA</span>
<span id="cb16-310"><a href="#cb16-310" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-311"><a href="#cb16-311" aria-hidden="true" tabindex="-1"></a>    SHA --&gt; LED</span>
<span id="cb16-312"><a href="#cb16-312" aria-hidden="true" tabindex="-1"></a>    SHA --&gt; BUZZ</span>
<span id="cb16-313"><a href="#cb16-313" aria-hidden="true" tabindex="-1"></a>    SHA --&gt; LOG</span>
<span id="cb16-314"><a href="#cb16-314" aria-hidden="true" tabindex="-1"></a>    SHA --&gt; WEB</span>
<span id="cb16-315"><a href="#cb16-315" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-316"><a href="#cb16-316" aria-hidden="true" tabindex="-1"></a>    SHA --&gt; AUTO</span>
<span id="cb16-317"><a href="#cb16-317" aria-hidden="true" tabindex="-1"></a>    SHA --&gt; MANUAL  </span>
<span id="cb16-318"><a href="#cb16-318" aria-hidden="true" tabindex="-1"></a>    SHA --&gt; SAFE</span>
<span id="cb16-319"><a href="#cb16-319" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-320"><a href="#cb16-320" aria-hidden="true" tabindex="-1"></a>    style SHA fill:<span class="co">#e1f5fe</span></span>
<span id="cb16-321"><a href="#cb16-321" aria-hidden="true" tabindex="-1"></a>    style AUTO fill:<span class="co">#f3e5f5</span></span>
<span id="cb16-322"><a href="#cb16-322" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-323"><a href="#cb16-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-324"><a href="#cb16-324" aria-hidden="true" tabindex="-1"></a><span class="fu">### Diagnostic Framework</span></span>
<span id="cb16-325"><a href="#cb16-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-326"><a href="#cb16-326" aria-hidden="true" tabindex="-1"></a><span class="in">```cpp</span></span>
<span id="cb16-327"><a href="#cb16-327" aria-hidden="true" tabindex="-1"></a><span class="co">// System health monitoring node</span></span>
<span id="cb16-328"><a href="#cb16-328" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SystemHealthMonitor <span class="op">{</span></span>
<span id="cb16-329"><a href="#cb16-329" aria-hidden="true" tabindex="-1"></a><span class="kw">private</span><span class="op">:</span></span>
<span id="cb16-330"><a href="#cb16-330" aria-hidden="true" tabindex="-1"></a>    ros<span class="op">::</span>NodeHandle <span class="va">nh_</span><span class="op">;</span></span>
<span id="cb16-331"><a href="#cb16-331" aria-hidden="true" tabindex="-1"></a>    diagnostic_updater<span class="op">::</span>Updater <span class="va">diagnostic_updater_</span><span class="op">;</span></span>
<span id="cb16-332"><a href="#cb16-332" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-333"><a href="#cb16-333" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Health status for each subsystem</span></span>
<span id="cb16-334"><a href="#cb16-334" aria-hidden="true" tabindex="-1"></a>    <span class="kw">enum</span> HealthStatus <span class="op">{</span></span>
<span id="cb16-335"><a href="#cb16-335" aria-hidden="true" tabindex="-1"></a>        HEALTHY <span class="op">=</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb16-336"><a href="#cb16-336" aria-hidden="true" tabindex="-1"></a>        WARNING <span class="op">=</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb16-337"><a href="#cb16-337" aria-hidden="true" tabindex="-1"></a>        ERROR <span class="op">=</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb16-338"><a href="#cb16-338" aria-hidden="true" tabindex="-1"></a>        CRITICAL <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb16-339"><a href="#cb16-339" aria-hidden="true" tabindex="-1"></a>    <span class="op">};</span></span>
<span id="cb16-340"><a href="#cb16-340" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-341"><a href="#cb16-341" aria-hidden="true" tabindex="-1"></a>    <span class="kw">struct</span> SubsystemHealth <span class="op">{</span></span>
<span id="cb16-342"><a href="#cb16-342" aria-hidden="true" tabindex="-1"></a>        <span class="bu">std::</span>string name<span class="op">;</span></span>
<span id="cb16-343"><a href="#cb16-343" aria-hidden="true" tabindex="-1"></a>        HealthStatus status<span class="op">;</span></span>
<span id="cb16-344"><a href="#cb16-344" aria-hidden="true" tabindex="-1"></a>        <span class="bu">std::</span>string message<span class="op">;</span></span>
<span id="cb16-345"><a href="#cb16-345" aria-hidden="true" tabindex="-1"></a>        ros<span class="op">::</span>Time last_update<span class="op">;</span></span>
<span id="cb16-346"><a href="#cb16-346" aria-hidden="true" tabindex="-1"></a>    <span class="op">};</span></span>
<span id="cb16-347"><a href="#cb16-347" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-348"><a href="#cb16-348" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>map<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">,</span> SubsystemHealth<span class="op">&gt;</span> <span class="va">subsystem_health_</span><span class="op">;</span></span>
<span id="cb16-349"><a href="#cb16-349" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-350"><a href="#cb16-350" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span><span class="op">:</span></span>
<span id="cb16-351"><a href="#cb16-351" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> navigationHealthCallback<span class="op">(</span><span class="at">const</span> diagnostic_msgs<span class="op">::</span>DiagnosticArray<span class="op">::</span>ConstPtr<span class="op">&amp;</span> msg<span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-352"><a href="#cb16-352" aria-hidden="true" tabindex="-1"></a>        updateSubsystemHealth<span class="op">(</span><span class="st">"navigation"</span><span class="op">,</span> msg<span class="op">);</span></span>
<span id="cb16-353"><a href="#cb16-353" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb16-354"><a href="#cb16-354" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-355"><a href="#cb16-355" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> localizationHealthCallback<span class="op">(</span><span class="at">const</span> diagnostic_msgs<span class="op">::</span>DiagnosticArray<span class="op">::</span>ConstPtr<span class="op">&amp;</span> msg<span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-356"><a href="#cb16-356" aria-hidden="true" tabindex="-1"></a>        updateSubsystemHealth<span class="op">(</span><span class="st">"localization"</span><span class="op">,</span> msg<span class="op">);</span></span>
<span id="cb16-357"><a href="#cb16-357" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb16-358"><a href="#cb16-358" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-359"><a href="#cb16-359" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> hardwareHealthCallback<span class="op">(</span><span class="at">const</span> diagnostic_msgs<span class="op">::</span>DiagnosticArray<span class="op">::</span>ConstPtr<span class="op">&amp;</span> msg<span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-360"><a href="#cb16-360" aria-hidden="true" tabindex="-1"></a>        updateSubsystemHealth<span class="op">(</span><span class="st">"hardware"</span><span class="op">,</span> msg<span class="op">);</span></span>
<span id="cb16-361"><a href="#cb16-361" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb16-362"><a href="#cb16-362" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-363"><a href="#cb16-363" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> publishSystemHealth<span class="op">()</span> <span class="op">{</span></span>
<span id="cb16-364"><a href="#cb16-364" aria-hidden="true" tabindex="-1"></a>        diagnostic_msgs<span class="op">::</span>DiagnosticArray system_health<span class="op">;</span></span>
<span id="cb16-365"><a href="#cb16-365" aria-hidden="true" tabindex="-1"></a>        system_health<span class="op">.</span>header<span class="op">.</span>stamp <span class="op">=</span> ros<span class="op">::</span>Time<span class="op">::</span>now<span class="op">();</span></span>
<span id="cb16-366"><a href="#cb16-366" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-367"><a href="#cb16-367" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Aggregate subsystem health</span></span>
<span id="cb16-368"><a href="#cb16-368" aria-hidden="true" tabindex="-1"></a>        HealthStatus overall_status <span class="op">=</span> HEALTHY<span class="op">;</span></span>
<span id="cb16-369"><a href="#cb16-369" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="at">const</span> <span class="kw">auto</span><span class="op">&amp;</span> subsystem <span class="op">:</span> <span class="va">subsystem_health_</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-370"><a href="#cb16-370" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>subsystem<span class="op">.</span>second<span class="op">.</span>status <span class="op">&gt;</span> overall_status<span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-371"><a href="#cb16-371" aria-hidden="true" tabindex="-1"></a>                overall_status <span class="op">=</span> subsystem<span class="op">.</span>second<span class="op">.</span>status<span class="op">;</span></span>
<span id="cb16-372"><a href="#cb16-372" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb16-373"><a href="#cb16-373" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb16-374"><a href="#cb16-374" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-375"><a href="#cb16-375" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Create system health message</span></span>
<span id="cb16-376"><a href="#cb16-376" aria-hidden="true" tabindex="-1"></a>        diagnostic_msgs<span class="op">::</span>DiagnosticStatus status<span class="op">;</span></span>
<span id="cb16-377"><a href="#cb16-377" aria-hidden="true" tabindex="-1"></a>        status<span class="op">.</span>name <span class="op">=</span> <span class="st">"system_overall"</span><span class="op">;</span></span>
<span id="cb16-378"><a href="#cb16-378" aria-hidden="true" tabindex="-1"></a>        status<span class="op">.</span>level <span class="op">=</span> <span class="kw">static_cast</span><span class="op">&lt;</span><span class="dt">uint8_t</span><span class="op">&gt;(</span>overall_status<span class="op">);</span></span>
<span id="cb16-379"><a href="#cb16-379" aria-hidden="true" tabindex="-1"></a>        status<span class="op">.</span>message <span class="op">=</span> getHealthMessage<span class="op">(</span>overall_status<span class="op">);</span></span>
<span id="cb16-380"><a href="#cb16-380" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-381"><a href="#cb16-381" aria-hidden="true" tabindex="-1"></a>        system_health<span class="op">.</span>status<span class="op">.</span>push_back<span class="op">(</span>status<span class="op">);</span></span>
<span id="cb16-382"><a href="#cb16-382" aria-hidden="true" tabindex="-1"></a>        <span class="va">health_publisher_</span><span class="op">.</span>publish<span class="op">(</span>system_health<span class="op">);</span></span>
<span id="cb16-383"><a href="#cb16-383" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb16-384"><a href="#cb16-384" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb16-385"><a href="#cb16-385" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-386"><a href="#cb16-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-387"><a href="#cb16-387" aria-hidden="true" tabindex="-1"></a><span class="fu">### Performance Monitoring</span></span>
<span id="cb16-388"><a href="#cb16-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-389"><a href="#cb16-389" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Key Performance Indicators (KPIs)</span></span>
<span id="cb16-390"><a href="#cb16-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-391"><a href="#cb16-391" aria-hidden="true" tabindex="-1"></a><span class="in">```yaml</span></span>
<span id="cb16-392"><a href="#cb16-392" aria-hidden="true" tabindex="-1"></a><span class="co"># Performance thresholds</span></span>
<span id="cb16-393"><a href="#cb16-393" aria-hidden="true" tabindex="-1"></a><span class="fu">performance_thresholds</span><span class="kw">:</span></span>
<span id="cb16-394"><a href="#cb16-394" aria-hidden="true" tabindex="-1"></a><span class="co">  # System resource usage</span></span>
<span id="cb16-395"><a href="#cb16-395" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">cpu_usage_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">70.0</span><span class="co">           # CPU usage warning threshold (%)</span></span>
<span id="cb16-396"><a href="#cb16-396" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">cpu_usage_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">90.0</span><span class="co">          # CPU usage critical threshold (%)</span></span>
<span id="cb16-397"><a href="#cb16-397" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">memory_usage_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">80.0</span><span class="co">        # Memory usage warning threshold (%)</span></span>
<span id="cb16-398"><a href="#cb16-398" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">memory_usage_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">95.0</span><span class="co">       # Memory usage critical threshold (%)</span></span>
<span id="cb16-399"><a href="#cb16-399" aria-hidden="true" tabindex="-1"></a><span class="at">  </span></span>
<span id="cb16-400"><a href="#cb16-400" aria-hidden="true" tabindex="-1"></a><span class="co">  # Communication performance</span></span>
<span id="cb16-401"><a href="#cb16-401" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">topic_hz_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.8</span><span class="co">              # Topic frequency warning (fraction of expected)</span></span>
<span id="cb16-402"><a href="#cb16-402" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">topic_hz_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.5</span><span class="co">             # Topic frequency critical (fraction of expected)</span></span>
<span id="cb16-403"><a href="#cb16-403" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">latency_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">100.0</span><span class="co">             # Communication latency warning (ms)</span></span>
<span id="cb16-404"><a href="#cb16-404" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">latency_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">500.0</span><span class="co">            # Communication latency critical (ms)</span></span>
<span id="cb16-405"><a href="#cb16-405" aria-hidden="true" tabindex="-1"></a><span class="at">  </span></span>
<span id="cb16-406"><a href="#cb16-406" aria-hidden="true" tabindex="-1"></a><span class="co">  # Navigation performance</span></span>
<span id="cb16-407"><a href="#cb16-407" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">localization_error_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.5</span><span class="co">    # Localization error warning (m)</span></span>
<span id="cb16-408"><a href="#cb16-408" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">localization_error_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">2.0</span><span class="co">   # Localization error critical (m)</span></span>
<span id="cb16-409"><a href="#cb16-409" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">path_deviation_warning</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span><span class="co">        # Path deviation warning (m)</span></span>
<span id="cb16-410"><a href="#cb16-410" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">path_deviation_critical</span><span class="kw">:</span><span class="at"> </span><span class="fl">3.0</span><span class="co">       # Path deviation critical (m)</span></span>
<span id="cb16-411"><a href="#cb16-411" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-412"><a href="#cb16-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-413"><a href="#cb16-413" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Automated Performance Analysis</span></span>
<span id="cb16-414"><a href="#cb16-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-415"><a href="#cb16-415" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb16-416"><a href="#cb16-416" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb16-417"><a href="#cb16-417" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb16-418"><a href="#cb16-418" aria-hidden="true" tabindex="-1"></a><span class="co">System Performance Monitor</span></span>
<span id="cb16-419"><a href="#cb16-419" aria-hidden="true" tabindex="-1"></a><span class="co">Analyzes system performance and generates reports</span></span>
<span id="cb16-420"><a href="#cb16-420" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb16-421"><a href="#cb16-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-422"><a href="#cb16-422" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> rospy</span>
<span id="cb16-423"><a href="#cb16-423" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> psutil</span>
<span id="cb16-424"><a href="#cb16-424" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagnostic_msgs.msg <span class="im">import</span> DiagnosticArray, DiagnosticStatus</span>
<span id="cb16-425"><a href="#cb16-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-426"><a href="#cb16-426" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PerformanceMonitor:</span>
<span id="cb16-427"><a href="#cb16-427" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb16-428"><a href="#cb16-428" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.performance_pub <span class="op">=</span> rospy.Publisher(<span class="st">'/system/performance'</span>, </span>
<span id="cb16-429"><a href="#cb16-429" aria-hidden="true" tabindex="-1"></a>                                             DiagnosticArray, queue_size<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb16-430"><a href="#cb16-430" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-431"><a href="#cb16-431" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Load performance thresholds</span></span>
<span id="cb16-432"><a href="#cb16-432" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.thresholds <span class="op">=</span> rospy.get_param(<span class="st">'/performance_thresholds'</span>, {})</span>
<span id="cb16-433"><a href="#cb16-433" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-434"><a href="#cb16-434" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Start monitoring timer</span></span>
<span id="cb16-435"><a href="#cb16-435" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.monitor_timer <span class="op">=</span> rospy.Timer(rospy.Duration(<span class="fl">1.0</span>), <span class="va">self</span>.monitor_callback)</span>
<span id="cb16-436"><a href="#cb16-436" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-437"><a href="#cb16-437" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> monitor_callback(<span class="va">self</span>, event):</span>
<span id="cb16-438"><a href="#cb16-438" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Monitor system performance and publish diagnostics"""</span></span>
<span id="cb16-439"><a href="#cb16-439" aria-hidden="true" tabindex="-1"></a>        diagnostic_array <span class="op">=</span> DiagnosticArray()</span>
<span id="cb16-440"><a href="#cb16-440" aria-hidden="true" tabindex="-1"></a>        diagnostic_array.header.stamp <span class="op">=</span> rospy.Time.now()</span>
<span id="cb16-441"><a href="#cb16-441" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-442"><a href="#cb16-442" aria-hidden="true" tabindex="-1"></a>        <span class="co"># CPU usage monitoring</span></span>
<span id="cb16-443"><a href="#cb16-443" aria-hidden="true" tabindex="-1"></a>        cpu_percent <span class="op">=</span> psutil.cpu_percent()</span>
<span id="cb16-444"><a href="#cb16-444" aria-hidden="true" tabindex="-1"></a>        cpu_status <span class="op">=</span> <span class="va">self</span>.create_diagnostic_status(</span>
<span id="cb16-445"><a href="#cb16-445" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="st">"system/cpu_usage"</span>,</span>
<span id="cb16-446"><a href="#cb16-446" aria-hidden="true" tabindex="-1"></a>            level<span class="op">=</span><span class="va">self</span>.get_level(cpu_percent, </span>
<span id="cb16-447"><a href="#cb16-447" aria-hidden="true" tabindex="-1"></a>                               <span class="va">self</span>.thresholds.get(<span class="st">'cpu_usage_warning'</span>, <span class="dv">70</span>),</span>
<span id="cb16-448"><a href="#cb16-448" aria-hidden="true" tabindex="-1"></a>                               <span class="va">self</span>.thresholds.get(<span class="st">'cpu_usage_critical'</span>, <span class="dv">90</span>)),</span>
<span id="cb16-449"><a href="#cb16-449" aria-hidden="true" tabindex="-1"></a>            message<span class="op">=</span><span class="ss">f"CPU usage: </span><span class="sc">{</span>cpu_percent<span class="sc">:.1f}</span><span class="ss">%"</span>,</span>
<span id="cb16-450"><a href="#cb16-450" aria-hidden="true" tabindex="-1"></a>            values<span class="op">=</span>[(<span class="st">"cpu_percent"</span>, cpu_percent)]</span>
<span id="cb16-451"><a href="#cb16-451" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb16-452"><a href="#cb16-452" aria-hidden="true" tabindex="-1"></a>        diagnostic_array.status.append(cpu_status)</span>
<span id="cb16-453"><a href="#cb16-453" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-454"><a href="#cb16-454" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Memory usage monitoring</span></span>
<span id="cb16-455"><a href="#cb16-455" aria-hidden="true" tabindex="-1"></a>        memory <span class="op">=</span> psutil.virtual_memory()</span>
<span id="cb16-456"><a href="#cb16-456" aria-hidden="true" tabindex="-1"></a>        memory_status <span class="op">=</span> <span class="va">self</span>.create_diagnostic_status(</span>
<span id="cb16-457"><a href="#cb16-457" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="st">"system/memory_usage"</span>, </span>
<span id="cb16-458"><a href="#cb16-458" aria-hidden="true" tabindex="-1"></a>            level<span class="op">=</span><span class="va">self</span>.get_level(memory.percent,</span>
<span id="cb16-459"><a href="#cb16-459" aria-hidden="true" tabindex="-1"></a>                               <span class="va">self</span>.thresholds.get(<span class="st">'memory_usage_warning'</span>, <span class="dv">80</span>),</span>
<span id="cb16-460"><a href="#cb16-460" aria-hidden="true" tabindex="-1"></a>                               <span class="va">self</span>.thresholds.get(<span class="st">'memory_usage_critical'</span>, <span class="dv">95</span>)),</span>
<span id="cb16-461"><a href="#cb16-461" aria-hidden="true" tabindex="-1"></a>            message<span class="op">=</span><span class="ss">f"Memory usage: </span><span class="sc">{</span>memory<span class="sc">.</span>percent<span class="sc">:.1f}</span><span class="ss">%"</span>,</span>
<span id="cb16-462"><a href="#cb16-462" aria-hidden="true" tabindex="-1"></a>            values<span class="op">=</span>[(<span class="st">"memory_percent"</span>, memory.percent),</span>
<span id="cb16-463"><a href="#cb16-463" aria-hidden="true" tabindex="-1"></a>                   (<span class="st">"memory_available"</span>, memory.available)]</span>
<span id="cb16-464"><a href="#cb16-464" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb16-465"><a href="#cb16-465" aria-hidden="true" tabindex="-1"></a>        diagnostic_array.status.append(memory_status)</span>
<span id="cb16-466"><a href="#cb16-466" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-467"><a href="#cb16-467" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Publish diagnostics</span></span>
<span id="cb16-468"><a href="#cb16-468" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.performance_pub.publish(diagnostic_array)</span>
<span id="cb16-469"><a href="#cb16-469" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-470"><a href="#cb16-470" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_level(<span class="va">self</span>, value, warning_threshold, critical_threshold):</span>
<span id="cb16-471"><a href="#cb16-471" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Determine diagnostic level based on thresholds"""</span></span>
<span id="cb16-472"><a href="#cb16-472" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> value <span class="op">&gt;=</span> critical_threshold:</span>
<span id="cb16-473"><a href="#cb16-473" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> DiagnosticStatus.ERROR</span>
<span id="cb16-474"><a href="#cb16-474" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> value <span class="op">&gt;=</span> warning_threshold:</span>
<span id="cb16-475"><a href="#cb16-475" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> DiagnosticStatus.WARN</span>
<span id="cb16-476"><a href="#cb16-476" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb16-477"><a href="#cb16-477" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> DiagnosticStatus.OK</span>
<span id="cb16-478"><a href="#cb16-478" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-479"><a href="#cb16-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-480"><a href="#cb16-480" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Management</span></span>
<span id="cb16-481"><a href="#cb16-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-482"><a href="#cb16-482" aria-hidden="true" tabindex="-1"></a><span class="fu">### Logging and Data Collection</span></span>
<span id="cb16-483"><a href="#cb16-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-484"><a href="#cb16-484" aria-hidden="true" tabindex="-1"></a><span class="in">```yaml</span></span>
<span id="cb16-485"><a href="#cb16-485" aria-hidden="true" tabindex="-1"></a><span class="co"># Data logging configuration</span></span>
<span id="cb16-486"><a href="#cb16-486" aria-hidden="true" tabindex="-1"></a><span class="fu">logging_config</span><span class="kw">:</span></span>
<span id="cb16-487"><a href="#cb16-487" aria-hidden="true" tabindex="-1"></a><span class="co">  # ROS bag recording</span></span>
<span id="cb16-488"><a href="#cb16-488" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">bag_recording</span><span class="kw">:</span></span>
<span id="cb16-489"><a href="#cb16-489" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">enabled</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb16-490"><a href="#cb16-490" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">topics</span><span class="kw">:</span></span>
<span id="cb16-491"><a href="#cb16-491" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/tf"</span></span>
<span id="cb16-492"><a href="#cb16-492" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/tf_static"</span><span class="at"> </span></span>
<span id="cb16-493"><a href="#cb16-493" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/scan"</span></span>
<span id="cb16-494"><a href="#cb16-494" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/odom"</span></span>
<span id="cb16-495"><a href="#cb16-495" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/cmd_vel"</span></span>
<span id="cb16-496"><a href="#cb16-496" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/move_base/goal"</span></span>
<span id="cb16-497"><a href="#cb16-497" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/move_base/result"</span></span>
<span id="cb16-498"><a href="#cb16-498" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_bag_size</span><span class="kw">:</span><span class="at"> </span><span class="st">"1GB"</span><span class="co">           # Maximum bag file size</span></span>
<span id="cb16-499"><a href="#cb16-499" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_bag_duration</span><span class="kw">:</span><span class="at"> </span><span class="st">"1h"</span><span class="co">        # Maximum recording duration</span></span>
<span id="cb16-500"><a href="#cb16-500" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb16-501"><a href="#cb16-501" aria-hidden="true" tabindex="-1"></a><span class="co">  # System logs</span></span>
<span id="cb16-502"><a href="#cb16-502" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">system_logging</span><span class="kw">:</span></span>
<span id="cb16-503"><a href="#cb16-503" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">log_level</span><span class="kw">:</span><span class="at"> </span><span class="st">"INFO"</span><span class="co">             # ROS log level</span></span>
<span id="cb16-504"><a href="#cb16-504" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">log_directory</span><span class="kw">:</span><span class="at"> </span><span class="st">"~/.ros/log"</span><span class="co">   # Log directory</span></span>
<span id="cb16-505"><a href="#cb16-505" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">max_log_size</span><span class="kw">:</span><span class="at"> </span><span class="st">"100MB"</span><span class="co">         # Maximum log file size</span></span>
<span id="cb16-506"><a href="#cb16-506" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">log_rotation_count</span><span class="kw">:</span><span class="at"> </span><span class="dv">10</span><span class="co">        # Number of rotated logs</span></span>
<span id="cb16-507"><a href="#cb16-507" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb16-508"><a href="#cb16-508" aria-hidden="true" tabindex="-1"></a><span class="co">  # Performance data</span></span>
<span id="cb16-509"><a href="#cb16-509" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">performance_logging</span><span class="kw">:</span></span>
<span id="cb16-510"><a href="#cb16-510" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">enabled</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb16-511"><a href="#cb16-511" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">metrics_topics</span><span class="kw">:</span></span>
<span id="cb16-512"><a href="#cb16-512" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/diagnostics"</span></span>
<span id="cb16-513"><a href="#cb16-513" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/system/performance"</span></span>
<span id="cb16-514"><a href="#cb16-514" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"/system/health"</span></span>
<span id="cb16-515"><a href="#cb16-515" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">sampling_rate</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span><span class="co">            # Data sampling rate (Hz)</span></span>
<span id="cb16-516"><a href="#cb16-516" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb16-517"><a href="#cb16-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-518"><a href="#cb16-518" aria-hidden="true" tabindex="-1"></a><span class="fu">### Data Analysis Tools</span></span>
<span id="cb16-519"><a href="#cb16-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-520"><a href="#cb16-520" aria-hidden="true" tabindex="-1"></a><span class="in">```bash</span></span>
<span id="cb16-521"><a href="#cb16-521" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb16-522"><a href="#cb16-522" aria-hidden="true" tabindex="-1"></a><span class="co"># System analysis script</span></span>
<span id="cb16-523"><a href="#cb16-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-524"><a href="#cb16-524" aria-hidden="true" tabindex="-1"></a><span class="co"># Analyze ROS bag files</span></span>
<span id="cb16-525"><a href="#cb16-525" aria-hidden="true" tabindex="-1"></a><span class="fu">analyze_bag_file()</span> <span class="kw">{</span></span>
<span id="cb16-526"><a href="#cb16-526" aria-hidden="true" tabindex="-1"></a>    <span class="bu">local</span> <span class="va">bag_file</span><span class="op">=</span><span class="va">$1</span></span>
<span id="cb16-527"><a href="#cb16-527" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Analyzing bag file: </span><span class="va">$bag_file</span><span class="st">"</span></span>
<span id="cb16-528"><a href="#cb16-528" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-529"><a href="#cb16-529" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Basic bag info</span></span>
<span id="cb16-530"><a href="#cb16-530" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rosbag</span> info <span class="st">"</span><span class="va">$bag_file</span><span class="st">"</span></span>
<span id="cb16-531"><a href="#cb16-531" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-532"><a href="#cb16-532" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Topic frequency analysis</span></span>
<span id="cb16-533"><a href="#cb16-533" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rostopic</span> hz /scan <span class="op">&lt;</span> <span class="st">"</span><span class="va">$bag_file</span><span class="st">"</span> <span class="kw">&amp;</span></span>
<span id="cb16-534"><a href="#cb16-534" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rostopic</span> hz /odom <span class="op">&lt;</span> <span class="st">"</span><span class="va">$bag_file</span><span class="st">"</span> <span class="kw">&amp;</span></span>
<span id="cb16-535"><a href="#cb16-535" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-536"><a href="#cb16-536" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Generate plots</span></span>
<span id="cb16-537"><a href="#cb16-537" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rqt_plot</span> <span class="st">"</span><span class="va">$bag_file</span><span class="st">"</span></span>
<span id="cb16-538"><a href="#cb16-538" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb16-539"><a href="#cb16-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-540"><a href="#cb16-540" aria-hidden="true" tabindex="-1"></a><span class="co"># System performance report</span></span>
<span id="cb16-541"><a href="#cb16-541" aria-hidden="true" tabindex="-1"></a><span class="fu">generate_performance_report()</span> <span class="kw">{</span></span>
<span id="cb16-542"><a href="#cb16-542" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Generating system performance report..."</span></span>
<span id="cb16-543"><a href="#cb16-543" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-544"><a href="#cb16-544" aria-hidden="true" tabindex="-1"></a>    <span class="co"># CPU and memory usage over time</span></span>
<span id="cb16-545"><a href="#cb16-545" aria-hidden="true" tabindex="-1"></a>    <span class="ex">python3</span> scripts/analyze_performance.py <span class="dt">\</span></span>
<span id="cb16-546"><a href="#cb16-546" aria-hidden="true" tabindex="-1"></a>        <span class="at">--input</span> /var/log/system_performance.log <span class="dt">\</span></span>
<span id="cb16-547"><a href="#cb16-547" aria-hidden="true" tabindex="-1"></a>        <span class="at">--output</span> reports/performance_report.html</span>
<span id="cb16-548"><a href="#cb16-548" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-549"><a href="#cb16-549" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Navigation performance metrics</span></span>
<span id="cb16-550"><a href="#cb16-550" aria-hidden="true" tabindex="-1"></a>    <span class="ex">python3</span> scripts/analyze_navigation.py <span class="dt">\</span></span>
<span id="cb16-551"><a href="#cb16-551" aria-hidden="true" tabindex="-1"></a>        <span class="at">--bag_file</span> latest_mission.bag <span class="dt">\</span></span>
<span id="cb16-552"><a href="#cb16-552" aria-hidden="true" tabindex="-1"></a>        <span class="at">--output</span> reports/navigation_report.html</span>
<span id="cb16-553"><a href="#cb16-553" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb16-554"><a href="#cb16-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-555"><a href="#cb16-555" aria-hidden="true" tabindex="-1"></a><span class="co"># Main analysis function</span></span>
<span id="cb16-556"><a href="#cb16-556" aria-hidden="true" tabindex="-1"></a><span class="fu">main()</span> <span class="kw">{</span></span>
<span id="cb16-557"><a href="#cb16-557" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Find latest bag file</span></span>
<span id="cb16-558"><a href="#cb16-558" aria-hidden="true" tabindex="-1"></a>    <span class="va">latest_bag</span><span class="op">=</span><span class="va">$(</span><span class="fu">find</span> ~/.ros/bags <span class="at">-name</span> <span class="st">"*.bag"</span> <span class="at">-type</span> f <span class="at">-printf</span> <span class="st">'%T@ %p\n'</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-1</span> <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span><span class="st">' '</span> <span class="at">-f2-</span><span class="va">)</span></span>
<span id="cb16-559"><a href="#cb16-559" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-560"><a href="#cb16-560" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">[</span> <span class="ot">-n</span> <span class="st">"</span><span class="va">$latest_bag</span><span class="st">"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb16-561"><a href="#cb16-561" aria-hidden="true" tabindex="-1"></a>        <span class="ex">analyze_bag_file</span> <span class="st">"</span><span class="va">$latest_bag</span><span class="st">"</span></span>
<span id="cb16-562"><a href="#cb16-562" aria-hidden="true" tabindex="-1"></a>    <span class="cf">fi</span></span>
<span id="cb16-563"><a href="#cb16-563" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-564"><a href="#cb16-564" aria-hidden="true" tabindex="-1"></a>    <span class="ex">generate_performance_report</span></span>
<span id="cb16-565"><a href="#cb16-565" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb16-566"><a href="#cb16-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-567"><a href="#cb16-567" aria-hidden="true" tabindex="-1"></a><span class="ex">main</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span></span>
<span id="cb16-568"><a href="#cb16-568" aria-hidden="true" tabindex="-1"></a><span class="kw">```</span></span>
<span id="cb16-569"><a href="#cb16-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-570"><a href="#cb16-570" aria-hidden="true" tabindex="-1"></a><span class="co">## Deployment Patterns</span></span>
<span id="cb16-571"><a href="#cb16-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-572"><a href="#cb16-572" aria-hidden="true" tabindex="-1"></a><span class="co">### Development vs Production</span></span>
<span id="cb16-573"><a href="#cb16-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-574"><a href="#cb16-574" aria-hidden="true" tabindex="-1"></a><span class="co">#### Development Configuration</span></span>
<span id="cb16-575"><a href="#cb16-575" aria-hidden="true" tabindex="-1"></a><span class="kw">```</span>yaml</span>
<span id="cb16-576"><a href="#cb16-576" aria-hidden="true" tabindex="-1"></a><span class="co"># Development environment settings</span></span>
<span id="cb16-577"><a href="#cb16-577" aria-hidden="true" tabindex="-1"></a><span class="ex">development:</span></span>
<span id="cb16-578"><a href="#cb16-578" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Debugging enabled</span></span>
<span id="cb16-579"><a href="#cb16-579" aria-hidden="true" tabindex="-1"></a>  <span class="ex">debug_mode:</span> true</span>
<span id="cb16-580"><a href="#cb16-580" aria-hidden="true" tabindex="-1"></a>  <span class="ex">verbose_logging:</span> true</span>
<span id="cb16-581"><a href="#cb16-581" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-582"><a href="#cb16-582" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Reduced safety constraints for testing</span></span>
<span id="cb16-583"><a href="#cb16-583" aria-hidden="true" tabindex="-1"></a>  <span class="ex">safety:</span></span>
<span id="cb16-584"><a href="#cb16-584" aria-hidden="true" tabindex="-1"></a>    <span class="ex">max_velocity:</span> 0.5             <span class="co"># Reduced max velocity</span></span>
<span id="cb16-585"><a href="#cb16-585" aria-hidden="true" tabindex="-1"></a>    <span class="ex">obstacle_buffer:</span> 0.3          <span class="co"># Increased safety buffer</span></span>
<span id="cb16-586"><a href="#cb16-586" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-587"><a href="#cb16-587" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Development tools enabled</span></span>
<span id="cb16-588"><a href="#cb16-588" aria-hidden="true" tabindex="-1"></a>  <span class="ex">tools:</span></span>
<span id="cb16-589"><a href="#cb16-589" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rviz:</span> true                    <span class="co"># Enable RViz visualization</span></span>
<span id="cb16-590"><a href="#cb16-590" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rqt_tools:</span> true              <span class="co"># Enable rqt debugging tools</span></span>
<span id="cb16-591"><a href="#cb16-591" aria-hidden="true" tabindex="-1"></a>    <span class="ex">web_dashboard:</span> true          <span class="co"># Enable web dashboard</span></span>
<span id="cb16-592"><a href="#cb16-592" aria-hidden="true" tabindex="-1"></a><span class="kw">```</span></span>
<span id="cb16-593"><a href="#cb16-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-594"><a href="#cb16-594" aria-hidden="true" tabindex="-1"></a><span class="co">#### Production Configuration</span></span>
<span id="cb16-595"><a href="#cb16-595" aria-hidden="true" tabindex="-1"></a><span class="kw">```</span>yaml</span>
<span id="cb16-596"><a href="#cb16-596" aria-hidden="true" tabindex="-1"></a><span class="co"># Production environment settings</span></span>
<span id="cb16-597"><a href="#cb16-597" aria-hidden="true" tabindex="-1"></a><span class="ex">production:</span></span>
<span id="cb16-598"><a href="#cb16-598" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Debugging disabled for performance</span></span>
<span id="cb16-599"><a href="#cb16-599" aria-hidden="true" tabindex="-1"></a>  <span class="ex">debug_mode:</span> false</span>
<span id="cb16-600"><a href="#cb16-600" aria-hidden="true" tabindex="-1"></a>  <span class="ex">verbose_logging:</span> false</span>
<span id="cb16-601"><a href="#cb16-601" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-602"><a href="#cb16-602" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Full performance settings</span></span>
<span id="cb16-603"><a href="#cb16-603" aria-hidden="true" tabindex="-1"></a>  <span class="ex">safety:</span></span>
<span id="cb16-604"><a href="#cb16-604" aria-hidden="true" tabindex="-1"></a>    <span class="ex">max_velocity:</span> 1.0             <span class="co"># Full max velocity</span></span>
<span id="cb16-605"><a href="#cb16-605" aria-hidden="true" tabindex="-1"></a>    <span class="ex">obstacle_buffer:</span> 0.2          <span class="co"># Standard safety buffer</span></span>
<span id="cb16-606"><a href="#cb16-606" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-607"><a href="#cb16-607" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Minimal UI for performance</span></span>
<span id="cb16-608"><a href="#cb16-608" aria-hidden="true" tabindex="-1"></a>  <span class="ex">tools:</span></span>
<span id="cb16-609"><a href="#cb16-609" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rviz:</span> false                   <span class="co"># Disable RViz (performance)</span></span>
<span id="cb16-610"><a href="#cb16-610" aria-hidden="true" tabindex="-1"></a>    <span class="ex">rqt_tools:</span> false             <span class="co"># Disable debugging tools</span></span>
<span id="cb16-611"><a href="#cb16-611" aria-hidden="true" tabindex="-1"></a>    <span class="ex">web_dashboard:</span> true          <span class="co"># Keep web dashboard for monitoring</span></span>
<span id="cb16-612"><a href="#cb16-612" aria-hidden="true" tabindex="-1"></a><span class="kw">```</span></span>
<span id="cb16-613"><a href="#cb16-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-614"><a href="#cb16-614" aria-hidden="true" tabindex="-1"></a><span class="co">### Containerized Deployment</span></span>
<span id="cb16-615"><a href="#cb16-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-616"><a href="#cb16-616" aria-hidden="true" tabindex="-1"></a><span class="kw">```</span>dockerfile</span>
<span id="cb16-617"><a href="#cb16-617" aria-hidden="true" tabindex="-1"></a><span class="co"># Beebot System Container</span></span>
<span id="cb16-618"><a href="#cb16-618" aria-hidden="true" tabindex="-1"></a><span class="ex">FROM</span> ros:melodic-desktop-full</span>
<span id="cb16-619"><a href="#cb16-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-620"><a href="#cb16-620" aria-hidden="true" tabindex="-1"></a><span class="co"># Install system dependencies</span></span>
<span id="cb16-621"><a href="#cb16-621" aria-hidden="true" tabindex="-1"></a><span class="ex">RUN</span> apt-get update <span class="kw">&amp;&amp;</span> <span class="ex">apt-get</span> install <span class="at">-y</span> <span class="dt">\</span></span>
<span id="cb16-622"><a href="#cb16-622" aria-hidden="true" tabindex="-1"></a>    python3-pip <span class="dt">\</span></span>
<span id="cb16-623"><a href="#cb16-623" aria-hidden="true" tabindex="-1"></a>    libudev-dev <span class="dt">\</span></span>
<span id="cb16-624"><a href="#cb16-624" aria-hidden="true" tabindex="-1"></a>    libusb-1.0-0-dev <span class="dt">\</span></span>
<span id="cb16-625"><a href="#cb16-625" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&amp;&amp;</span> <span class="fu">rm</span> <span class="at">-rf</span> /var/lib/apt/lists/<span class="pp">*</span></span>
<span id="cb16-626"><a href="#cb16-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-627"><a href="#cb16-627" aria-hidden="true" tabindex="-1"></a><span class="co"># Install Python dependencies</span></span>
<span id="cb16-628"><a href="#cb16-628" aria-hidden="true" tabindex="-1"></a><span class="ex">COPY</span> requirements.txt /tmp/requirements.txt</span>
<span id="cb16-629"><a href="#cb16-629" aria-hidden="true" tabindex="-1"></a><span class="ex">RUN</span> pip3 install <span class="at">-r</span> /tmp/requirements.txt</span>
<span id="cb16-630"><a href="#cb16-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-631"><a href="#cb16-631" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy Beebot source code</span></span>
<span id="cb16-632"><a href="#cb16-632" aria-hidden="true" tabindex="-1"></a><span class="ex">COPY</span> . /catkin_ws/src/beebot</span>
<span id="cb16-633"><a href="#cb16-633" aria-hidden="true" tabindex="-1"></a><span class="ex">WORKDIR</span> /catkin_ws</span>
<span id="cb16-634"><a href="#cb16-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-635"><a href="#cb16-635" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the workspace</span></span>
<span id="cb16-636"><a href="#cb16-636" aria-hidden="true" tabindex="-1"></a><span class="ex">RUN</span> /bin/bash <span class="at">-c</span> <span class="st">"source /opt/ros/melodic/setup.bash &amp;&amp; catkin_make"</span></span>
<span id="cb16-637"><a href="#cb16-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-638"><a href="#cb16-638" aria-hidden="true" tabindex="-1"></a><span class="co"># Setup environment</span></span>
<span id="cb16-639"><a href="#cb16-639" aria-hidden="true" tabindex="-1"></a><span class="ex">RUN</span> echo <span class="st">"source /catkin_ws/devel/setup.bash"</span> <span class="op">&gt;&gt;</span> ~/.bashrc</span>
<span id="cb16-640"><a href="#cb16-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-641"><a href="#cb16-641" aria-hidden="true" tabindex="-1"></a><span class="co"># Entry point</span></span>
<span id="cb16-642"><a href="#cb16-642" aria-hidden="true" tabindex="-1"></a><span class="ex">COPY</span> docker/entrypoint.sh /entrypoint.sh</span>
<span id="cb16-643"><a href="#cb16-643" aria-hidden="true" tabindex="-1"></a><span class="ex">RUN</span> chmod +x /entrypoint.sh</span>
<span id="cb16-644"><a href="#cb16-644" aria-hidden="true" tabindex="-1"></a><span class="ex">ENTRYPOINT</span> <span class="pp">[</span><span class="st">"/entrypoint.sh"</span><span class="pp">]</span></span>
<span id="cb16-645"><a href="#cb16-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-646"><a href="#cb16-646" aria-hidden="true" tabindex="-1"></a><span class="co"># Default command</span></span>
<span id="cb16-647"><a href="#cb16-647" aria-hidden="true" tabindex="-1"></a><span class="ex">CMD</span> [<span class="st">"roslaunch"</span>, <span class="st">"system"</span>, <span class="st">"beebot_complete.launch"</span>]</span>
<span id="cb16-648"><a href="#cb16-648" aria-hidden="true" tabindex="-1"></a><span class="kw">```</span></span>
<span id="cb16-649"><a href="#cb16-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-650"><a href="#cb16-650" aria-hidden="true" tabindex="-1"></a><span class="co">## Troubleshooting Framework</span></span>
<span id="cb16-651"><a href="#cb16-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-652"><a href="#cb16-652" aria-hidden="true" tabindex="-1"></a><span class="co">### Automated Diagnostics</span></span>
<span id="cb16-653"><a href="#cb16-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-654"><a href="#cb16-654" aria-hidden="true" tabindex="-1"></a><span class="kw">```</span>python</span>
<span id="cb16-655"><a href="#cb16-655" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb16-656"><a href="#cb16-656" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb16-657"><a href="#cb16-657" aria-hidden="true" tabindex="-1"></a><span class="st">Automated System Diagnostics</span></span>
<span id="cb16-658"><a href="#cb16-658" aria-hidden="true" tabindex="-1"></a><span class="st">Runs comprehensive system health checks</span></span>
<span id="cb16-659"><a href="#cb16-659" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb16-660"><a href="#cb16-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-661"><a href="#cb16-661" aria-hidden="true" tabindex="-1"></a><span class="ex">class</span> SystemDiagnostics:</span>
<span id="cb16-662"><a href="#cb16-662" aria-hidden="true" tabindex="-1"></a>    <span class="ex">def</span> __init__<span class="er">(</span><span class="ex">self</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb16-663"><a href="#cb16-663" aria-hidden="true" tabindex="-1"></a>        <span class="ex">self.test_results</span> = {}</span>
<span id="cb16-664"><a href="#cb16-664" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-665"><a href="#cb16-665" aria-hidden="true" tabindex="-1"></a>    <span class="ex">def</span> run_all_diagnostics<span class="er">(</span><span class="ex">self</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb16-666"><a href="#cb16-666" aria-hidden="true" tabindex="-1"></a>        <span class="st">"""Run complete diagnostic suite"""</span></span>
<span id="cb16-667"><a href="#cb16-667" aria-hidden="true" tabindex="-1"></a>        <span class="ex">print</span><span class="er">(</span><span class="st">"Running Beebot System Diagnostics..."</span><span class="kw">)</span></span>
<span id="cb16-668"><a href="#cb16-668" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-669"><a href="#cb16-669" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Hardware diagnostics</span></span>
<span id="cb16-670"><a href="#cb16-670" aria-hidden="true" tabindex="-1"></a>        <span class="fu">self.test_hardware_connectivity()</span></span>
<span id="cb16-671"><a href="#cb16-671" aria-hidden="true" tabindex="-1"></a>        <span class="fu">self.test_sensor_functionality()</span></span>
<span id="cb16-672"><a href="#cb16-672" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-673"><a href="#cb16-673" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Software diagnostics  </span></span>
<span id="cb16-674"><a href="#cb16-674" aria-hidden="true" tabindex="-1"></a>        <span class="fu">self.test_ros_connectivity()</span></span>
<span id="cb16-675"><a href="#cb16-675" aria-hidden="true" tabindex="-1"></a>        <span class="fu">self.test_node_health()</span></span>
<span id="cb16-676"><a href="#cb16-676" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-677"><a href="#cb16-677" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Navigation diagnostics</span></span>
<span id="cb16-678"><a href="#cb16-678" aria-hidden="true" tabindex="-1"></a>        <span class="fu">self.test_localization_accuracy()</span></span>
<span id="cb16-679"><a href="#cb16-679" aria-hidden="true" tabindex="-1"></a>        <span class="fu">self.test_path_planning()</span></span>
<span id="cb16-680"><a href="#cb16-680" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-681"><a href="#cb16-681" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Generate report</span></span>
<span id="cb16-682"><a href="#cb16-682" aria-hidden="true" tabindex="-1"></a>        <span class="fu">self.generate_diagnostic_report()</span></span>
<span id="cb16-683"><a href="#cb16-683" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-684"><a href="#cb16-684" aria-hidden="true" tabindex="-1"></a>    <span class="ex">def</span> test_hardware_connectivity<span class="er">(</span><span class="ex">self</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb16-685"><a href="#cb16-685" aria-hidden="true" tabindex="-1"></a>        <span class="st">"""Test hardware device connectivity"""</span></span>
<span id="cb16-686"><a href="#cb16-686" aria-hidden="true" tabindex="-1"></a>        <span class="ex">print</span><span class="er">(</span><span class="st">"Testing hardware connectivity..."</span><span class="kw">)</span></span>
<span id="cb16-687"><a href="#cb16-687" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-688"><a href="#cb16-688" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Test Arduino connection</span></span>
<span id="cb16-689"><a href="#cb16-689" aria-hidden="true" tabindex="-1"></a>        <span class="ex">try:</span></span>
<span id="cb16-690"><a href="#cb16-690" aria-hidden="true" tabindex="-1"></a>            <span class="ex">import</span> serial</span>
<span id="cb16-691"><a href="#cb16-691" aria-hidden="true" tabindex="-1"></a>            <span class="ex">ser</span> = serial.Serial<span class="er">(</span><span class="st">'/dev/ttyUSB0'</span><span class="ex">,</span> 115200, timeout=1<span class="kw">)</span></span>
<span id="cb16-692"><a href="#cb16-692" aria-hidden="true" tabindex="-1"></a>            <span class="fu">ser.close()</span></span>
<span id="cb16-693"><a href="#cb16-693" aria-hidden="true" tabindex="-1"></a>            <span class="ex">self.test_results[</span><span class="st">'arduino_connection'</span><span class="ex">]</span> = <span class="st">'PASS'</span></span>
<span id="cb16-694"><a href="#cb16-694" aria-hidden="true" tabindex="-1"></a>        <span class="ex">except:</span></span>
<span id="cb16-695"><a href="#cb16-695" aria-hidden="true" tabindex="-1"></a>            <span class="ex">self.test_results[</span><span class="st">'arduino_connection'</span><span class="ex">]</span> = <span class="st">'FAIL'</span></span>
<span id="cb16-696"><a href="#cb16-696" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb16-697"><a href="#cb16-697" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Test LiDAR connection</span></span>
<span id="cb16-698"><a href="#cb16-698" aria-hidden="true" tabindex="-1"></a>        <span class="ex">result</span> = os.system<span class="er">(</span><span class="st">'ls /dev/ttyUSB* | grep ttyUSB1 &gt; /dev/null'</span><span class="kw">)</span></span>
<span id="cb16-699"><a href="#cb16-699" aria-hidden="true" tabindex="-1"></a>        <span class="ex">self.test_results[</span><span class="st">'lidar_connection'</span><span class="ex">]</span> = <span class="st">'PASS'</span> if result == 0 else <span class="st">'FAIL'</span></span>
<span id="cb16-700"><a href="#cb16-700" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-701"><a href="#cb16-701" aria-hidden="true" tabindex="-1"></a>    <span class="ex">def</span> generate_diagnostic_report<span class="er">(</span><span class="ex">self</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb16-702"><a href="#cb16-702" aria-hidden="true" tabindex="-1"></a>        <span class="st">"""Generate HTML diagnostic report"""</span></span>
<span id="cb16-703"><a href="#cb16-703" aria-hidden="true" tabindex="-1"></a>        <span class="ex">html_content</span> = <span class="st">"""</span></span>
<span id="cb16-704"><a href="#cb16-704" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;!DOCTYPE html&gt;</span></span>
<span id="cb16-705"><a href="#cb16-705" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;html&gt;</span></span>
<span id="cb16-706"><a href="#cb16-706" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;head&gt;</span></span>
<span id="cb16-707"><a href="#cb16-707" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;title&gt;Beebot System Diagnostics&lt;/title&gt;</span></span>
<span id="cb16-708"><a href="#cb16-708" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;style&gt;</span></span>
<span id="cb16-709"><a href="#cb16-709" aria-hidden="true" tabindex="-1"></a><span class="st">                .pass { color: green; }</span></span>
<span id="cb16-710"><a href="#cb16-710" aria-hidden="true" tabindex="-1"></a><span class="st">                .fail { color: red; }</span></span>
<span id="cb16-711"><a href="#cb16-711" aria-hidden="true" tabindex="-1"></a><span class="st">                .warn { color: orange; }</span></span>
<span id="cb16-712"><a href="#cb16-712" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;/style&gt;</span></span>
<span id="cb16-713"><a href="#cb16-713" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;/head&gt;</span></span>
<span id="cb16-714"><a href="#cb16-714" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;body&gt;</span></span>
<span id="cb16-715"><a href="#cb16-715" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;h1&gt;Beebot System Diagnostics Report&lt;/h1&gt;</span></span>
<span id="cb16-716"><a href="#cb16-716" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;table border="</span>1<span class="st">"&gt;</span></span>
<span id="cb16-717"><a href="#cb16-717" aria-hidden="true" tabindex="-1"></a><span class="st">                &lt;tr&gt;&lt;th&gt;Test&lt;/th&gt;&lt;th&gt;Result&lt;/th&gt;&lt;/tr&gt;</span></span>
<span id="cb16-718"><a href="#cb16-718" aria-hidden="true" tabindex="-1"></a><span class="st">        """</span></span>
<span id="cb16-719"><a href="#cb16-719" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-720"><a href="#cb16-720" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> test_name<span class="ex">,</span> result in self.test_results.items<span class="er">(</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb16-721"><a href="#cb16-721" aria-hidden="true" tabindex="-1"></a>            <span class="ex">css_class</span> = result.lower<span class="er">(</span><span class="kw">)</span></span>
<span id="cb16-722"><a href="#cb16-722" aria-hidden="true" tabindex="-1"></a>            <span class="ex">html_content</span> += f<span class="st">"&lt;tr&gt;&lt;td&gt;{test_name}&lt;/td&gt;&lt;td class='{css_class}'&gt;{result}&lt;/td&gt;&lt;/tr&gt;"</span></span>
<span id="cb16-723"><a href="#cb16-723" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb16-724"><a href="#cb16-724" aria-hidden="true" tabindex="-1"></a>        <span class="ex">html_content</span> += <span class="st">"""</span></span>
<span id="cb16-725"><a href="#cb16-725" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;/table&gt;</span></span>
<span id="cb16-726"><a href="#cb16-726" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;/body&gt;</span></span>
<span id="cb16-727"><a href="#cb16-727" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;/html&gt;</span></span>
<span id="cb16-728"><a href="#cb16-728" aria-hidden="true" tabindex="-1"></a><span class="st">        """</span></span>
<span id="cb16-729"><a href="#cb16-729" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-730"><a href="#cb16-730" aria-hidden="true" tabindex="-1"></a>        <span class="ex">with</span> open<span class="er">(</span><span class="st">'/tmp/beebot_diagnostics.html'</span><span class="ex">,</span> <span class="st">'w'</span><span class="kw">)</span> <span class="fu">as</span> f:</span>
<span id="cb16-731"><a href="#cb16-731" aria-hidden="true" tabindex="-1"></a>            <span class="ex">f.write</span><span class="er">(</span><span class="ex">html_content</span><span class="kw">)</span></span>
<span id="cb16-732"><a href="#cb16-732" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb16-733"><a href="#cb16-733" aria-hidden="true" tabindex="-1"></a>        <span class="ex">print</span><span class="er">(</span><span class="st">"Diagnostic report saved to /tmp/beebot_diagnostics.html"</span><span class="kw">)</span></span>
<span id="cb16-734"><a href="#cb16-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-735"><a href="#cb16-735" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="ex">__name__</span> == <span class="st">'__main__'</span>:</span>
<span id="cb16-736"><a href="#cb16-736" aria-hidden="true" tabindex="-1"></a>    <span class="ex">diagnostics</span> = SystemDiagnostics<span class="er">(</span><span class="kw">)</span></span>
<span id="cb16-737"><a href="#cb16-737" aria-hidden="true" tabindex="-1"></a>    <span class="fu">diagnostics.run_all_diagnostics()</span></span>
<span id="cb16-738"><a href="#cb16-738" aria-hidden="true" tabindex="-1"></a><span class="kw">```</span></span>
<span id="cb16-739"><a href="#cb16-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-740"><a href="#cb16-740" aria-hidden="true" tabindex="-1"></a><span class="co">## Next Steps</span></span>
<span id="cb16-741"><a href="#cb16-741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-742"><a href="#cb16-742" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> <span class="pp">**</span>[Hardware Setup Guide â†’]<span class="er">(</span><span class="ex">../guides/hardware-setup.qmd</span><span class="kw">)</span><span class="ex">**</span></span>
<span id="cb16-743"><a href="#cb16-743" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> <span class="pp">**</span>[Software Installation â†’]<span class="er">(</span><span class="ex">../getting-started/installation.qmd</span><span class="kw">)</span><span class="ex">**</span></span>
<span id="cb16-744"><a href="#cb16-744" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> <span class="pp">**</span>[Configuration Tuning â†’]<span class="er">(</span><span class="ex">../guides/configuration.qmd</span><span class="kw">)</span><span class="ex">**</span></span>
<span id="cb16-745"><a href="#cb16-745" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> <span class="pp">**</span>[Troubleshooting Guide â†’]<span class="er">(</span><span class="ex">../guides/troubleshooting.qmd</span><span class="kw">)</span><span class="ex">**</span></span>
<span id="cb16-746"><a href="#cb16-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-747"><a href="#cb16-747" aria-hidden="true" tabindex="-1"></a><span class="ex">---</span></span>
<span id="cb16-748"><a href="#cb16-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-749"><a href="#cb16-749" aria-hidden="true" tabindex="-1"></a><span class="ex">:::{.callout-tip}</span></span>
<span id="cb16-750"><a href="#cb16-750" aria-hidden="true" tabindex="-1"></a><span class="co">## Integration Best Practices</span></span>
<span id="cb16-751"><a href="#cb16-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-752"><a href="#cb16-752" aria-hidden="true" tabindex="-1"></a><span class="co">### System Design</span></span>
<span id="cb16-753"><a href="#cb16-753" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Use consistent naming conventions across all modules</span>
<span id="cb16-754"><a href="#cb16-754" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Implement proper error handling and recovery mechanisms</span>
<span id="cb16-755"><a href="#cb16-755" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Design for modularity and testability</span>
<span id="cb16-756"><a href="#cb16-756" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Document all interfaces and dependencies</span>
<span id="cb16-757"><a href="#cb16-757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-758"><a href="#cb16-758" aria-hidden="true" tabindex="-1"></a><span class="co">### Performance Optimization</span></span>
<span id="cb16-759"><a href="#cb16-759" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Monitor system resources and optimize bottlenecks</span>
<span id="cb16-760"><a href="#cb16-760" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Use appropriate message passing strategies</span>
<span id="cb16-761"><a href="#cb16-761" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Implement efficient data structures and algorithms</span>
<span id="cb16-762"><a href="#cb16-762" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Consider real-time requirements for critical paths</span>
<span id="cb16-763"><a href="#cb16-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-764"><a href="#cb16-764" aria-hidden="true" tabindex="-1"></a><span class="co">### Maintenance</span></span>
<span id="cb16-765"><a href="#cb16-765" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Implement comprehensive logging and monitoring</span>
<span id="cb16-766"><a href="#cb16-766" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Use version control for configuration management</span>
<span id="cb16-767"><a href="#cb16-767" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Create automated testing and validation procedures</span>
<span id="cb16-768"><a href="#cb16-768" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> Plan for regular system updates and maintenance</span>
<span id="cb16-769"><a href="#cb16-769" aria-hidden="true" tabindex="-1"></a><span class="ex">:::</span></span></code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>